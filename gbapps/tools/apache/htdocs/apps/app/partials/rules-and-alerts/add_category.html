<div class="container-fluid padding-0" ng-controller="AddCategoryCtrl">
	<div class="page-loader-white-gb" ng-show="info.categoriesLoading">
		<div class="page-loader-body">
			<div class="rect rect1"></div>
			<div class="rect rect2"></div>
			<div class="rect rect3"></div>
			<div class="rect rect4"></div>
			<div class="rect rect5"></div>
		</div>
	</div>
	<div class="row-fluid" ng-hide="info.categoriesLoading">
		<div class="col-sm-12">
			<div class="gb-rules-msg-block" ng-if="info.successMsg != '' || info.errorMsg != ''" gb-outside-click="clearMessage()">
				<div ng-if="info.successMsg != ''" class="alert alert-success padding-0 text-align-center margin-btm-0"
				 ng-bind-html="renderHtml(info.successMsg)"></div>
				<div ng-if="info.errorMsg != ''" class="alert alert-danger padding-0 text-align-center margin-btm-0" ng-bind-html="renderHtml(info.errorMsg)"></div>
			</div>
			<label class="font-size-12">{{rulesconstants['RULE_CATEGORY']}}</label>
		</div>
	</div>
	<div class="row-fluid" ng-hide="info.categoriesLoading">
		<div class="col-sm-12" style="max-height: 65vh;overflow: auto;">
			<table class="table table-bordered table-hover gb-rules-table margin-btm-0">
				<thead class="font-size-10">
					<tr class="border-top-bbb">
						<th width="250">{{rulesconstants['CATEGORY']}}</th>
						<th>{{rulesconstants['Description']}}</th>
					</tr>
				</thead>
				<tbody class="font-size-10">
					<tr ng-repeat="cat in info.categories track by $index" ng-class="{'text-line-through': !!cat.deleted}"
					 ng-mouseenter="cat.showOptions = true;" ng-mouseleave="cat.showOptions = false;">
						<td sly-show="!!!cat.edit">{{cat.category}}</td>
						<td sly-show="!!!cat.edit">

							<span sly-show="!!cat.showOptions && !!!cat.deleted" title="Edit" class="gb-rules-row-icon gb-rules-edit-icon gb-rules-2nd-last-icon">
								<i class="fa fa-pencil-square-o" aria-hidden="true" ng-click="editCategory(cat)"></i>
							</span>

							<span sly-show="!!cat.showOptions && !!!cat.deleted" title="Delete" class="gb-rules-row-icon gb-rules-delete-icon gb-rules-last-icon">
								<i class="fa fa-trash-o" aria-hidden="true" ng-click="deleteCategory(cat)"></i>
							</span>

							<span sly-show="!!cat.showOptions && !!cat.deleted" title="Undo" class="icon-undo2 gb-rules-row-icon gb-rules-undo-icon gb-rules-last-icon"
							 ng-click="undoDeleteCategory(cat)"></span>
							<span title="{{cat.category_description}}">{{cat.category_description ? (cat.category_description |
								cut:false:150:'...') : '---'}}</span>
						</td>
						<td sly-show="!!cat.edit" class="padding-0 padding-btm-0"><input type="text" ng-model="cat.category" class="form-control gb-rules-category-edit width-100-per background-transparent"
							 maxlength="50" ng-change="cat.edited = true;" placeholder="Enter category name" /></td>
						<td sly-show="!!cat.edit" class="padding-0 padding-btm-0">
							<span sly-show="!!cat.showOptions" title="Delete" class="gb-rules-row-icon gb-rules-delete-icon gb-rules-2nd-last-icon padding-top-6"
							 ng-click="deleteCategory(cat)">
								<i class="fa fa-trash-o" aria-hidden="true" ng-click="deleteCategory(cat)"></i>
							</span>
							<span sly-show="!!cat.showOptions" title="Undo" class="icon-undo2 gb-rules-row-icon gb-rules-undo-icon gb-rules-last-icon padding-top-6"
							 ng-click="undoCategory(cat)"></span>
							<input type="text" ng-model="cat.category_description" class="form-control gb-rules-category-edit width-100-per background-transparent"
							 placeholder="Enter description" />
						</td>
					</tr>
					<tr ng-repeat="cat in info.newCategories track by $index" ng-mouseenter="cat.showOptions = true;" ng-mouseleave="cat.showOptions = false;">
						<td class="padding-0 padding-btm-0"><input type="text" ng-model="cat.category" class="form-control gb-rules-category-edit width-100-per background-transparent background-antiquewhite"
							 maxlength="50" placeholder="Enter category name" /></td>
						<td class="padding-0 padding-btm-0"><span sly-show="!!cat.showOptions" title="Remove" class="icon-cancel-circle gb-rules-row-icon gb-rules-delete-icon gb-rules-last-icon padding-top-8"
							 ng-click="deleteNewCategory($index)"></span><input type="text" ng-model="cat.category_description" class="form-control gb-rules-category-edit width-100-per background-transparent background-antiquewhite"
							 placeholder="Enter description" /></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<div class="row-fluid" ng-hide="info.categoriesLoading">
		<div class="col-sm-12">
			<div class="gb-rules-table-footer padding-top-3 height-32">
				<span class="pull-left">
					<button type="button" class="gb-primary-btn" ng-click="addCategory()">{{rulesconstants['ADD']}}</button>
				</span>
				<span class="pull-right">
					<button type="button" class="gb-primary-btn" ng-click="saveCategories()">{{rulesconstants['SAVE']}}</button>
					<!-- <button type="button" class="btn-primary input-sm border-width-1 gb-rules-btn" ng-click="goToAddRule()">Back</button> -->
				</span>
			</div>
		</div>
	</div>
</div>