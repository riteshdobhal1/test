"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Compression = /** @class */ (function () {
    /**
     * Creates an instance of Compression.
     */
    function Compression(options, logger) {
        this.compressionOptions = {};
        this.options = options;
        this.logger = logger;
        this.selectCompression();
    }
    /**
     * Returns human-readable compression options info.
     */
    Compression.prototype.readableOptions = function (keyWrapper) {
        if (keyWrapper === void 0) { keyWrapper = function (key) { return key; }; }
        var options = '';
        for (var _i = 0, _a = Object.entries(this.compressionOptions); _i < _a.length; _i++) {
            var _b = _a[_i], key = _b[0], value = _b[1];
            options += keyWrapper(key) + ": " + value + ", ";
        }
        return this.compressionName + " -> " + options.slice(0, -2);
    };
    /**
     * Build compression options object [compressionOptions].
     */
    Compression.prototype.selectCompression = function () {
        var options = {};
        if (this.options.level !== undefined) {
            options.level = this.options.level;
        }
        if (this.options.memoryLevel !== undefined) {
            options.memLevel = this.options.memoryLevel;
        }
        if (this.options.strategy !== undefined) {
            options.strategy = this.options.strategy;
        }
        this.compressionOptions = options;
    };
    return Compression;
}());
exports.Compression = Compression;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tcHJlc3Npb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcHJlc3Npb25zL0NvbXByZXNzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBU0E7SUFNRTs7T0FFRztJQUNILHFCQUFZLE9BQXNCLEVBQUUsTUFBYztRQUp4Qyx1QkFBa0IsR0FBdUMsRUFBRSxDQUFDO1FBS3BFLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzNCLENBQUM7SUFPRDs7T0FFRztJQUNJLHFDQUFlLEdBQXRCLFVBQ0UsVUFFNEI7UUFGNUIsMkJBQUEsRUFBQSx1QkFDRSxHQUFXLElBQ1ksT0FBQSxHQUFHLEVBQUgsQ0FBRztRQUU1QixJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFFakIsS0FBMkIsVUFBdUMsRUFBdkMsS0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxFQUF2QyxjQUF1QyxFQUF2QyxJQUF1QyxFQUFFO1lBQXpELElBQUEsV0FBWSxFQUFYLFdBQUcsRUFBRSxhQUFLO1lBQ3BCLE9BQU8sSUFBTyxVQUFVLENBQUMsR0FBRyxDQUFDLFVBQUssS0FBSyxPQUFJLENBQUM7U0FDN0M7UUFFRCxPQUFVLElBQUksQ0FBQyxlQUFlLFlBQU8sT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUcsQ0FBQztJQUM5RCxDQUFDO0lBRUQ7O09BRUc7SUFDTyx1Q0FBaUIsR0FBM0I7UUFDRSxJQUFNLE9BQU8sR0FBdUIsRUFBRSxDQUFDO1FBRXZDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEtBQUssU0FBUyxFQUFFO1lBQ3BDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUM7U0FDcEM7UUFFRCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxLQUFLLFNBQVMsRUFBRTtZQUMxQyxPQUFPLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDO1NBQzdDO1FBRUQsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSyxTQUFTLEVBQUU7WUFDdkMsT0FBTyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQztTQUMxQztRQUVELElBQUksQ0FBQyxrQkFBa0IsR0FBRyxPQUFPLENBQUM7SUFDcEMsQ0FBQztJQUNILGtCQUFDO0FBQUQsQ0FBQyxBQXpERCxJQXlEQztBQXpEcUIsa0NBQVcifQ==