<!-- This is the main landing page -->
<!DOCTYPE html>
<html ng-app="gbSupportApp">
	<head>
		<!-- <script src="/apps/app/lib/xdomain/xdomain.js" slave="<TMPL_VAR NAME='INFOSERVER_DOMAIN'>/xproxy"></script> -->
		<script src="/apps/app/lib/xdomain/xdomain.js"></script>
		<script>
			var tArray = unescape(getCookie('infoserver_domain')).split('/');
			var version = tArray.pop();
			var slaves = {};
			slaves[tArray.join("/")]= "/"+version+"/xproxy";
			tArray = unescape(getCookie('infoserver_domain_staging')).split('/');
            version = tArray.pop();
            slaves[tArray.join("/")]= "/"+version+"/xproxy";
			//slaves["<TMPL_VAR NAME='OLD_STACK_DOMAIN'>"] = "/search/search.html";
			//slaves["<TMPL_VAR NAME='TABLEAU_DOMAIN'>"] = "/<TMPL_VAR NAME='TABLEAU_VERSION'>/desktop/proxy.html";
			xdomain.slaves(slaves);
			function loadingUpload() {}
			function loadingDone() {}
			function loadingRules() {}
			function dashboardLoadingDone() {}
			
			function getCookie(cname) {
			    var name = cname + "=";
			    var ca = document.cookie.split(';');
			    for(var i=0; i<ca.length; i++) {
			        var c = ca[i];
			        while (c.charAt(0)==' ') c = c.substring(1);
			        if (c.indexOf(name) == 0) return c.substring(name.length,c.length);
			    }
			    return "";
			}
		</script>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<title>Glassbeam</title>
		<link rel="stylesheet" type="text/css" href="/apps/app/lib/bootstrap-3.3.6/css/bootstrap.min.css">
		 <link rel="stylesheet" type="text/css" href="/apps/app/css/common.css">
		<link rel="stylesheet" type="text/css" href="/apps/app/css/search.css"> 
		<!-- <link rel="stylesheet" type="text/css" href="/apps/app/css/style.4.7.24.min.css">  -->
		<link rel="stylesheet" type="text/css" href="/apps/app/lib/bootstrap-3.1/fonts/icomoon/style.css">
		<link rel="stylesheet" type="text/css" href="/apps/app/lib/ng-table/ng-table.min.css">
	</head>
	<body class="main-container" style="background-color: #C4C4C4; overflow-x: hidden">
			
		<div ng-controller="RulesCtrl" class="container gb-unsupported-rules-container">
		   <div class="row gb-login-toppanel">
		   		<a href="http://www.glassbeam.com" class="logo"><img src="img/glassbeam.png"></a>
		   		<span class="right-login"> <a class="logout">
                                <div class="btn-group username-group">
                                    <a class="btn dropdown-toggle btn-username" data-toggle="dropdown" href="#"> <span class="user-name"><span class="welc-text font-size-10">Welcome </span><span class="font-size-10">{{info.userName}}</span></span> <span class="caret"></span> </a>
                                    <!-- dropdown menu links -->
                                    <ul class="dropdown-menu dropdown-menu-right user-dropdown font-size-10" role="menu">
                                        <li>
                                            <a ng-click="logoutUser()" href="#">Logout</a>
                                        </li>
                                    </ul>
                                </div> </a> </span>
		   </div>	
			<div class="row gb-rules-and-alerts">
				<!-- Placeholder for system error message -->
				<div ng-if="!!getError().length">
				    <div ng-repeat="msg in getError() track by $index" class="text-align-center">
			            <span ng-bind-html="renderHtml(msg)"></span>
			        </div>
				</div>
				<!-- Placeholder for breadcrumb placement -->
				<!-- <div class="row-fluid" ng-if="!getError().length">
					<div class="col-sm-12 padding-0">
						<ol class="breadcrumb font-size-12">
							<li><a href="#" ng-click="changeCurrentPage('uns_rules_list')" ng-class="{'gb-rules-menu-selected': info.current == 'uns_rules_list'}">Rules List</a></li>
							<!-- <li><a href="#" ng-click="changeCurrentPage('test_rule')" ng-class="{'gb-rules-menu-selected': info.current == 'test_rule'}">Test Rule</a></li> 
							<li><a href="#" ng-click="changeCurrentPage('uns_add_rule')" ng-class="{'gb-rules-menu-selected': info.current == 'uns_add_rule'}">Add/Edit Rule</a></li>
							<!-- <li><a href="#" ng-click="changeCurrentPage('add_category')" ng-class="{'gb-rules-menu-selected': info.current == 'add_category'}">Test Rules</a></li>
							<li><a href="#" ng-click="changeCurrentPage('manage_template')" ng-class="{'gb-rules-menu-selected': info.current == 'manage_template'}">Manage Templates</a></li>
							<li><a href="#" ng-click="changeCurrentPage('add_edit_template')" ng-class="{'gb-rules-menu-selected': info.current == 'add_edit_template'}">Add/Edit Template</a></li>
							
						</ol>
					</div>
				</div> -->
				
				
				<!-- Placeholder for breadcrumb placement -->
				<div class="row-fluid" ng-if="!getError().length">
					<div class="col-sm-12 padding-0">
						<ol class="breadcrumb font-size-12">
						    <li ng-repeat="page in info.pagesList track by $index">
						        <a ng-click="changeCurrentPage(page.name)" ng-class="{'gb-rules-menu-selected': info.current == page.name}">{{page.label}}</a>
						    </li>
						</ol>
					</div>
				</div>
				<!-- Displaying page according to the selection -->
				<ng-include src="getRulesUrl()" ng-if="!getError().length"></ng-include>
			</div>
			
		       <div class="row gb-login-footer">
		       		<span>Â© Copyright 2015 Glassbeam, Inc.</span>
		       </div>
			
		</div>
		<!-- Jquery -->
		<script src="/apps/app/lib/jquery/jquery.min.js"></script>

		<!-- Bootstrap -->
		<script src="/apps/app/lib/bootstrap-3.3.6/js/bootstrap.min.js"></script>
		
		<!-- AngularJS -->
		<script src="/apps/app/lib/angular/angular-1.3.19.min.js"></script>
		
		<!-- ngDraggable Service -->
		<script src="/apps/app/lib/ng-draggable/ngDraggable.js"></script>

		<!-- AngularJS Cookies -->
		<script src="/apps/app/lib/angular/angular-cookies-1.3.19.min.js"></script>

		<!-- AngularJS Animate -->
		<script src="/apps/app/lib/angular/angular-animate-1.3.19.min.js"></script>

		<!-- Angular UI Bootstrap -->
		<script src="/apps/app/lib/ui-bootstrap/ui-bootstrap-tpls-0.13.4.min.js"></script>

		<!-- ng-table -->
		<script src="/apps/app/lib/ng-table/ng-table.js"></script>
		
		<!-- scalyr directives -->
		<script src="/apps/app/lib/scalyr/scalyr.js"></script>

		<!-- Common Application Files -->
		<script src="/apps/app/js/uns-rules-and-alert/app.js"></script>
		<script src="/apps/app/js/filters.js"></script>
		<script src="/apps/app/js/globals.js"></script>
		<script src="/apps/app/js/directives.js"></script>
		<script src="/apps/app/js/services.js"></script>

		
		<!-- Rules and Alerts -->
		<script src="/apps/app/js/uns-rules-and-alert/controllers.js"></script>
		<script src="/apps/app/js/uns-rules-and-alert/services.js"></script>


		<!-- File-Upload -->
		<script src="/apps/app/lib/file-upload/angular-file-upload-1.1.6.min.js"></script>
		<!-- UI Slider -->
		<script src="/apps/app/lib/slider/angular-slider.js"></script>

		<!-- UI Unique -->
		<script src="/apps/app/lib/ui-utils/ui-utils.min.js"></script>
	</body>
</html>
