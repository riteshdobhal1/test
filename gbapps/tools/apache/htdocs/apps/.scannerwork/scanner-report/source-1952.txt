<div class="container-fluid padding-0 gb-rules-manage-template" ng-controller="ManageTemplateCtrl">
    <div class="loading height-450" sly-show="info.templatesLoading"></div>
	<div class="row-fluid" ng-hide="info.templatesLoading">
		<div class="col-sm-12 table-responsive gb-tenp-list" style="overflow-x: auto;margin-top: 2px;">
		    <div class="gb-rules-msg-block" ng-if="info.successMsg != '' || info.errorMsg != ''" gb-outside-click="clearMessage()">
                <div ng-if="info.successMsg != ''" class="alert alert-success padding-0 text-align-center margin-btm-0" ng-bind-html="renderHtml(info.successMsg)"></div>
                <div ng-if="info.errorMsg != ''" class="alert alert-danger padding-0 text-align-center margin-btm-0" ng-bind-html="renderHtml(info.errorMsg)"></div>
            </div>
			<table ng-table="tableParams" show-filter="true" class="table table-bordered table-hover margin-btm-0" >
				<thead class="font-size-10">
					<tr class="border-top-bbb" ng-class="{'border-btm-ddd': tableParams.data.length == 0}">
						<th width="30" style="text-align:left">
						  <input type="checkbox" class="margin-0 gb-custom-checkbox glyphicon" ng-model="info.selectAll" title="{{!!info.selectAll ? 'Unselect All' : 'Select All'}}" ng-change="checkSelectAll()" ng-checked="info.selectAll"/>
						</th>
						<th class="sortable" ng-class="{
						'sort-asc': tableParams.isSortBy(column.field, 'asc'),
						'sort-desc': tableParams.isSortBy(column.field, 'desc')
						}" style="text-align:left" ng-repeat="column in columns track by $index" ng-click="sortColumn(column.field)" >
						<div class="gb-inline-flex width-100-per" >
							<span class="gb-table-th-title">{{column.title}}&nbsp;
								<input type="text" ng-model="info[column.field]" ng-change="searchTemplate(column.field)" class="display-inline-block width-164 margin-top-1 font-weight-100 form-control" placeholder="Search {{column.title}}"/>
							</span>

							</span>
						</div></th>
					</tr>
				</thead>
				<tbody class="font-size-10">
					<tr ng-repeat="template in $data track by $index" ng-mouseenter="template.showOptions = true;" ng-mouseleave="template.showOptions = false;">
						<td>
						<input type="checkbox" class="margin-0 gb-custom-checkbox glyphicon" ng-model="template.selected" ng-change="checkTemplatesSelection()"/>
						</td>
						<td ng-repeat="column in columns track by $index">
							<span ng-if="$last" sly-show="!!template.showOptions" title="Edit" title="Delete Template" class="gb-rules-row-icon gb-rules-edit-icon gb-rules-2nd-last-icon" >
									<i class="fa fa-pencil-square-o" aria-hidden="true" ng-click="editTemplate(template)"></i> 
							</span>

							<span ng-if="$last" sly-show="!!template.showOptions" title="Delete" title="Delete Template" class="gb-rules-row-icon gb-rules-delete-icon gb-rules-last-icon	" >
									<i class="fa fa-trash-o" aria-hidden="true" ng-click="deleteTemplate(template)"></i> 
							</span>

                            <span title="{{template[column.field]}}">{{template[column.field] | cut:false:60:'...'}}</span>
                        </td>
					</tr>
				</tbody>
			</table>
			<div class="font-size-12 font-weight-bold padding-btm-150 padding-top-150 text-align-center" ng-if="tableParams.data.length == 0">
				{{rulesconstants['NO_RECORDS_FOUND']}}
			</div>
		</div>
	</div>
	<div class="row-fluid" ng-hide="info.templatesLoading">
		<div class="col-sm-12">
			<div class="gb-rules-table-footer padding-top-3">
				<span class="page-count-list font-size-10" ng-if="!!tableParams.data.length"> Show
					<div class="form-inline page-count-form">
						<select class="input-xs page-count-box margin-left-0" ng-model="info.page.count" ng-change="changePageSize()">>
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="30">30</option>
                            <option value="40">40</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
					</div> </span>
				<a href="#" class="margin-left-20" ng-class="{'pagination-icon-disabled': !checkAppliedFilters()}" title="Clear Applied Filters" ng-click="clearAppliedFilters()" ng-if="!!tableParams.data.length"><span class="icon-loop2"></span></a>

				<span ng-if="!!tableParams.data.length" class="gb-pagination display-inline-block gb-rules-pagination margin-left-13"> <a class="icon-previous2 pagination-icon" title="First Page" ng-click="firstPage()" ng-class="{'pagination-icon-disabled': (info.page['current'] <= 1)}"></a> <a class="icon-arrow-left7 pagination-icon" title="Previous Page" ng-click="prevPage()" ng-class="{'pagination-icon-disabled': (info.page['current'] <= 1)}"></a> <!-- <pre class="gb-pagination-msg">1 - 100 of 100</pre> --> 					<pre class="gb-pagination-msg" sly-show="info.page['current'] < info.page['pages']">{{(info.page['current'] - 1) * info.page['count'] + 1}} - {{(info.page['current'] - 1) * info.page['count'] + info.page['count']}} of {{info.page['total']}}</pre> 					<pre class="gb-pagination-msg" sly-show="info.page['current'] == info.page['pages']">{{(info.page['current'] - 1) * info.page['count'] + 1}} - {{info.page['total']}} of {{info.page['total']}}</pre> <a class="icon-arrow-right7 pagination-icon" title="Next Page" ng-click="nextPage()" ng-class="{'pagination-icon-disabled': (info.page['current'] >= info.page['pages'])}"></a> <a class="icon-next2 pagination-icon" title="Last Page" ng-click="lastPage()" ng-class="{'pagination-icon-disabled': (info.page['current'] >= info.page['pages'])}"></a> </span>
				<span class="pull-right">
					<button type="button" class="gb-primary-btn" ng-if="checkTemplateSelected()" ng-click="deleteSelectedTemplates()">
						Delete
					</button>
					<button type="button" class="gb-primary-btn" ng-click="addNewTemplate()">
						Add New
					</button> </span>
			</div>
		</div>
	</div>
</div>
