<div class="panel panel-gb-default analytics gb-save-section-view">
	<div class="panel-heading">
		<h3 class="panel-title">Save View</h3>
				<i class="fa fa-times gb-close-btn gb-panel-close-btn-fix" aria-hidden="true" title="Press Esc to remove" ng-click="hideModal()"></i>
			<!-- <span class="glyphicon glyphicon-remove pull-right gb-close-btn" title="Press Esc to remove" ng-click="hideModal()"></span> -->
	</div>

	<div class="loading-small alert alert-info" ng-class="{'hidden': saveModal.saveStatus != 'progress'}" >
		<span>Saving...</span>
	</div>
	<div ng-class="{'hidden': saveModal.saveStatus != 'success'}" class="alert alert-success">
		{{saveModal.message}}
	</div>
	<div ng-class="{'hidden': saveModal.saveStatus != 'error'}" class="alert alert-danger">
		{{saveModal.message}}
	</div>
	<div ng-class="{'hidden': saveModal.saveStatus != 'confirmation'}" class="alert alert-success">
		{{saveModal.message}}
	</div>
	<div ng-class="{'hidden': saveModal.saveStatus != 'notification'}" class="alert alert-danger">
		{{saveModal.message}}
	</div>

	<form class="form-horizontal" name="form.saveViewModal" novalidate>
		<div class="panel-body" ng-class="{'hidden': saveModal.saveStatus != 'initiated'}" >
			<div class="form-group">
				<label for="viewName" class="col-sm-3 control-label">Name this view</label>
				<div class="col-sm-8">
					<input type="text" maxlength="50" ng-minlength="3"  class="form-control" name="viewName" id="inline-help-explore-save-view-viewname"
					placeholder="View Name" ng-model="saveModal.filterName"  ng-pattern="/^[a-zA-Z0-9\s]*$/" ng-change="checkViewName()" required >
					<span class="has-error" ng-show="form.saveViewModal.viewName.$error.required">
  						<span class="help-block" ng-bind="getValue('required_vname')"></span>
					</span>
	  				<span class="has-error" ng-show="form.saveViewModal.viewName.$error.minlength">
						<span class="help-block" ng-bind="getValue('invalid_minlength')"></span>        	
		        	</span>
		        	<span class="has-error" ng-show="form.saveViewModal.viewName.$error.pattern">
						<span class="help-block" ng-bind="getValue('invalid_chars')"></span>        	
		        	</span>
		        	<span class="has-error" ng-show="form.saveViewModal.viewName.$error.duplicate">
						<span class="help-block" ng-bind="getValue('duplicate_view')"></span>        	
		        	</span>
		        	<span class="has-warning" ng-show="saveModal.viewOverwrite">
						<span class="help-block" ng-bind="getValue('overwrite_view')"></span>        	
		        	</span>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Search Query</label>
				<div class="col-sm-8">
					<input type="text" class="form-control disabled"
					placeholder="Search Query" ng-model="saveModal.searchQuery" id="inline-help-explore-save-view-searchquery" required readonly>

				</div>
			</div>
			<div class="form-group">
        <label class="col-sm-3 control-label">Time Range</label>
        <div class="col-sm-8">
        	<input type="text" ng-minlength="3"  class="form-control disabled" 
        	placeholder="Time Range" ng-model="saveModal.timeRange" id="inline-help-explore-save-view-timerange" required readonly>          
  				
        </div>
      </div>
			<div class="form-group gb-logvault-save-filter-filter-grp" id="inline-help-explore-save-view-filter">
				<label  class="col-sm-3 control-label">Filters</label>
				<textarea class="form-control save-view-textarea disabled" placeholder="Filters" 
        		class="saveViewTextArea" ng-model="saveModal.filters" readonly></textarea>
			</div>

			<div class="form-group">
				<label for="viewDescription" class="col-sm-3 control-label">Description</label>
				<div class="col-sm-8" id="inline-help-explore-save-view-description">
					<textarea class="form-control save-view-textarea" placeholder="Description" maxlength="255" 
          				class="saveViewTextArea" name= "viewDesc" ng-model="saveModal.desc" ng-maxlength="250"></textarea>
					
	  				<span class="has-error" sly-show="form.saveViewModal.viewDesc.$error.maxlength">
						<span class="help-block" ng-bind="getValue('invalid_maxlength_desc')"></span>        	
		        	</span>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Access</label>
				<div class="col-sm-8" id="inline-help-explore-save-view-access">
					<label class="radio-inline">
		            	<input type="radio" ng-checked="saveModal.access==private" ng-model="saveModal.access" value="private">
		            Private </label>
		          	<label class="radio-inline">
		            	<input type="radio" ng-model="saveModal.access" value="public">
		            Public </label>
				</div>
			</div>
		</div>
		<div class="panel-footer" ng-class="{'hidden': saveModal.saveStatus != 'initiated'}">
			<button type="button" ng-class="{'disabled' : !form.saveViewModal.$valid}" class="gb-primary-btn gb-modal-btn-sm pull-left"  data-ng-click="saveFilter()">
				Save View
			</button>
			<button type="button" class="gb-secondary-btn gb-modal-btn-sm pull-left" data-dismiss="modal" ng-click="hideModal()">
				Cancel
			</button>
		</div>
		<div class="panel-footer" ng-class="{'hidden': saveModal.saveStatus != 'confirmation'}">
			<button type="button" class="gb-primary-btn gb-modal-btn-sm pull-left"  data-ng-click="saveFilter()">
				Yes
			</button>
			<button type="button" class="gb-secondary-btn gb-modal-btn-sm pull-left" data-dismiss="modal" ng-click="hideModalPanel('confirmation')">
				No
			</button>
		</div>
		<div class="panel-footer" ng-class="{'hidden': saveModal.saveStatus != 'notification'}">
			<button type="button" class="gb-primary-btn gb-modal-btn-sm pull-left"  data-ng-click="hideModalPanel('notification')">
				Ok
			</button>
		</div>

	</form>
</div>
