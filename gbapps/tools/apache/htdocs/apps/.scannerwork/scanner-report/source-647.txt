<div class="gb-idashboard-events"><table width="100%" height="100%" class="iviewerTable" cellpadding="0" cellspacing="0" border="0"><tr><td class="gb-idashboard-panel-top" colspan="2"><span ng-repeat="dfield in instance.data.instanceDisplay" ng-if="instance.data.result[dfield.key]"><span class="gb-idashboard-label">{{dfield.label}}:</span> <span>{{instance.data.result[dfield.key]}} </span></span><span class="gb-idashboard-label">Bundle :</span> <span title="{{instance.data.bundle}}">{{instance.data.bundle | subStringToX:50}} </span><span class="gb-idashboard-label" ng-show="{{!instance.data.result.from_configdiff && !!instance.data.file}}">File : </span><span title="{{instance.data.file}}" ng-show="{{!instance.data.result.from_configdiff && !!instance.data.file}}">{{instance.data.file | subStringToX:50}}</span> <span class="gb-idashboard-label">Observation : </span><span>{{instance.data.observation | date: 'yyyy-MM-dd HH:mm:ss': 'UTC'}}</span></td></tr><tr><td class="gb-idashboard-panel-top-sec"><div ng-hide="instance.data.loading"><ul class="btn-group gb-idashboard-section-tabpanel" ng-hide="instance.data.result.currentNS == 'random.namespace.by.apps'"><li class="btn gb-btn-tab" ng-click="setDefaultTab('section',instance);" ng-class="{'active': getDefaultTab() == 'section'}">View Section</li><span ng-if="!instance.isGbStudio"><li ng-if="instance.selectAllSections" class="btn gb-btn-tab gb-tab-disabled" disabled="disabled" ng-click="showDisabledMsgViewChangesTab()">View Changes</li><li ng-if="!instance.selectAllSections" class="btn gb-btn-tab" ng-click="setDefaultTab('changes',instance);" ng-class="{'active': getDefaultTab()  == 'changes'}">View Changes</li></span></ul><div class="btn-group pull-left"><span class="icon-menu2 gb-icon-flat gb-color-gray pull-left dropdown-toggle" data-toggle="dropdown" title="Sections"></span><ul class="dropdown-menu gb-idashboard-section-dropdown" role="menu" ng-click="$event.stopPropagation()"><li><input type="text" class="form-control input-sm" ng-model="instance.data.sectionFilterValue" ng-minlength="3"></li><li><div class="section-loader" ng-if="instance.data.sectionsLoading"><div class="rect rect1"></div><div class="rect rect2"></div><div class="rect rect3"></div><div class="rect rect4"></div><div class="rect rect5"></div></div><ul class="gb-idashboard-log-filter-div" ng-if="!instance.data.sectionsLoading"><li ng-show="instance.data.sectionFilterValue==''"><label class="checkbox" ng-class="{'gb-tab-disabled': getDefaultTab()  == 'changes'}"><input type="checkbox" ng-model="instance.selectAllSections" ng-click="instance.data.sectionFilterValue='';instance.selectedSectionsChange('all')" ng-disabled="getDefaultTab() == 'changes'"> Select All</label></li><li ng-repeat="(sectionkey,section) in filterSections(instance.data.sections, instance.data.sectionFilterValue)"><label class="checkbox"><input type="checkbox" ng-model="section.selected" ng-click="instance.selectedSectionsChange(section, sectionkey)"> {{section.label}}</label><ul><li ng-repeat="(subsectionkey,subsection) in section track by $index" ng-if="subsection.ns_label"><label class="checkbox"><input type="checkbox" ng-model="subsection.selected" ng-click="instance.selectedSectionsChange(subsection, subsectionkey)"> {{subsection.ns_label}}</label></li></ul></li></ul></li></ul></div><span class="icon-loop2 gb-icon-flat gb-color-gray pull-left" title="Reset to initial view" ng-click="instance.clearFilter(instance.data.sections);" ng-hide="instance.data.result.currentNS == 'random.namespace.by.apps'"></span> <span class="icon-arrow-left7 gb-nav-colps-icon bundle-expand-icon pull-right" ng-click="hideRightBundle = !hideRightBundle" ng-hide="!hideRightBundle"></span> <span ng-if="!instance.isGbStudio"><span class="icon-download4 gb-icon-flat gb-color-gray pull-right" title="Download log bundle" gb-download-bundle obs-date="instance.data.observation" sys-id1="instance.data.result.sysid1" sys-id2="instance.data.result.sysid2" ng-click="instance.data.loading = true;" on-downloaded="instance.data.loading = false;" application="info.application" download-file="generateUrlForBundle(instance.data.result)" ng-hide="instance.data.result.currentNS == 'random.namespace.by.apps'"></span></span> <span class="icon-download4 gb-icon-flat gb-color-gray pull-right hide" title="Download log file" gb-download-file obs-date="instance.data.observation" download-file="generateUrlForFile(instance.data.result.obs_url, instance.data.result.filename, instance.data)" ng-hide="instance.data.result.currentNS == 'random.namespace.by.apps'"></span> <span class="btn-group gb-icon-flat pull-right" ng-show="!!(instance.getNumberofSelectedSection() > 0) && !instance.selectAllSections"><button class="btn gb-idashboard-section-btn" ng-click="instance.applyFilter(getDefaultTab());">Apply Filter</button> <button class="btn gb-idashboard-section-btn" ng-click="instance.clearFilter(instance.data.sections);">Clear Filter</button></span></div></td><td rowspan="4" class="gb-idashboard-logbundle-nav hide" ng-hide="hideRightBundle"><table cellpadding="0" cellspacing="0" width="100%" height="100%" class="ivBundleTable"><tr><td class="hight30"><span class="icon-arrow-right7 bundle-colps-icon gb-nav-colps-icon" ng-click="hideRightBundle = !hideRightBundle"></span></td></tr><tr><td class="hight30"><label class="gb-idashboard-logbundle-heading">Parsed logs in bundle</label></td></tr><tr><td class="hight30"><input type="text" placeholder="Search" class="form-control input-sm gb-logbundle-search-box" ng-model="instance.data.bundleList.filter"></td></tr><tr><td class="gb-idashboard-logbundles-td"><div class="section-loader" ng-show="instance.data.bundleList.isLoading"><div class="rect rect1"></div><div class="rect rect2"></div><div class="rect rect3"></div><div class="rect rect4"></div><div class="rect rect5"></div></div><div class="gb-idashboard-logbundles" ng-show="!instance.data.bundleList.isLoading"><ul><li ng-repeat="bundle in instance.data.bundleList.bundles | filter:instance.data.bundleList.filter track by $index"><span class="icon-download4 gb-link-normal" style="margin-right: 10px" title="Click to download {{bundle}}" class="gb-bundle-name" gb-download-file obs-date="instance.data.observation" download-file="generateUrlForFile(instance.data.result.obs_url, bundle)"></span>{{bundle|bundleName}}</li></ul></div></td></tr></table></td></tr><tr ng-show="instance.getNumberofSelectedSection() > 0"><td class="gb-idashboard-section-filter" ng-show="!instance.data.loading"><div ng-if="instance.selectAllSections" class="gb-idashboard-section-filter-cntr"><div class="filter-tab"><label class="gb-nav-text">All Sections</label> <span class="icon-close gb-nav-close" ng-click="instance.selectAllSections = false;instance.selectedSectionsChange('all')"></span></div></div><div ng-if="!instance.selectAllSections" class="gb-idashboard-section-filter-cntr"><span ng-repeat="(selKey, section) in instance.data.sectionFilterList" class="iviewer-filter-cntr"><div class="filter-tab"><label class="gb-nav-text">{{section}}</label> <span class="icon-close gb-nav-close" ng-click="instance.unselectSection(section, instance.data.sections, selKey)"></span></div></span></div></td></tr><tr ng-show="getDefaultTab() == 'changes'"><td class="gb-idashboard-section-label" ng-hide="instance.data.loading"><div class="row gb-idashboard-section-legend-cnt"><div class="gb-idashboard-section-legend"><span class="gb-legend-box bluebox"></span> <span>Changed lines</span></div><div class="gb-idashboard-section-legend"><span class="gb-legend-box greenbox"></span> <span>Added lines</span></div><div class="gb-idashboard-section-legend"><span class="gb-legend-box redbox"></span> <span>Deleted lines</span></div><div class="gb-idashboard-section-legend"><span class="gb-legend-box greybox"></span> <span>Unchanged lines</span></div></div><div class="row gb-idashboard-section-legend-cnt"><label class="gb-section-changes-obs-label">{{instance.data.observation | date: 'yyyy-MM-dd HH:mm:ss' : 'UTC'}}</label> <select class="gb-section-changes-select" ng-model="instance.data.currentObs" ng-if="instance.data.observationList.length > 0" ng-change="instance.changeObservation(obs.bundle_name)" ng-options="(obs.obs_ts | date: 'yyyy-MM-dd HH:mm:ss' : 'UTC') for obs in instance.data.observationList"></select> <select class="gb-section-changes-select" ng-if="instance.data.observationList.length == 0"><option>No previous observations</option></select></div></td></tr><tr><td class="iviewer-center-cntr"><div class="section-loader" ng-show="instance.data.loading"><div class="rect rect1"></div><div class="rect rect2"></div><div class="rect rect3"></div><div class="rect rect4"></div><div class="rect rect5"></div></div><div ng-hide="instance.data.loading"><div class="gb-idashboard-section-area {{instance.md5}}-section-container" id="{{instance.md5}}-section-container" ng-class="{'gb-idashboard-section-area-with-filter-toolbar' : (instance.getNumberofSelectedSection() > 0)}" ng-if="getDefaultTab() == 'section' && !instance.sectionLoading()"><div infinite-scroll="instance.scrollInfinite(this)" infinite-scroll-container='".gb-idashboard-section-area"' infinite-scroll-distance="1" infinite-scroll-parent="true"><pre ng-repeat="section in instance.data.sectionsData track by $index" id="{{section.section_name}}-{{instance.md5}}-section-content">{{section.content}}</pre><div class="gb-section-viewer-error-msg" ng-show="instance.data.sectionsData && instance.data.sectionsData.length == 0 && instance.data.result.currentNS != 'random.namespace.by.apps' && !instance.loadingState.section">Section data not available.</div><div class="gb-section-viewer-error-msg" ng-show="instance.data.sectionsData && instance.data.sectionsData.length == 0 && instance.data.result.currentNS == 'random.namespace.by.apps'">Please select section(s) to see data.</div></div><div class="section-loader" ng-show="instance.loadingState.section || instance.data.loading"><div class="rect rect1"></div><div class="rect rect2"></div><div class="rect rect3"></div><div class="rect rect4"></div><div class="rect rect5"></div></div></div><div class="gb-idashboard-section-area-changes" ng-class="{'gb-idashboard-section-area-with-filter-toolbar' : (instance.getNumberofSelectedSection() > 0)}" ng-if="getDefaultTab() == 'changes'"><div><div ng-if="!instance.data.sectionDiffError"><div ng-repeat="section in instance.data.diffSections track by $index"><span ng-if="(instance.data.diffSections.length + instance.data.noDiffSections.length) > 1" class="gb-section-viewer-section-name">{{section.name}}</span><br><iframe class="gb-section-viewer-iframe" ng-if="!section.error" width="100%" frameborder="0" ng-src="{{section.URL}}" ng-class="{'iviewer-changes-iframe-full': (instance.data.diffSections.length + instance.data.noDiffSections.length) == 1}"></iframe><div ng-if="section.error" class="gb-section-viewer-error-msg" ng-bind-html="renderHtml(section.errorMsg)"></div><hr class="gb-section-viewer-separator"></div><div class="gb-section-viewer-no-diff" ng-if="(instance.data.diffSections.length + instance.data.noDiffSections.length) > 1 && instance.data.noDiffSections.length > 1"><div class="head">Sections with no diff found</div><ul ng-repeat="section in instance.data.noDiffSections track by $index"><li>{{section.name}}<span ng-if="!$last">,&nbsp;</span></li></ul></div><div ng-if="!instance.data.diffSections.length && instance.data.noDiffSections.length == 1" class="gb-section-viewer-error-msg" ng-bind-html="renderHtml(instance.data.noDiffSections[0].errorMsg)"></div></div><div class="gb-section-viewer-error-msg" ng-if="instance.data.sectionDiffError" ng-bind-html="renderHtml(instance.data.sectionDiffMsg)"></div></div></div></div></td></tr></table></div>