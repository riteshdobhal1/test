import { async, ComponentFixture, TestBed } from '@angular/core/testing';
import { CUSTOM_ELEMENTS_SCHEMA }  from '@angular/core';
import { BrowserDynamicTestingModule } from "@angular/platform-browser-dynamic/testing";
import { RoleComponent } from './role.component';
import { RouterTestingModule } from '@angular/router/testing';
import { LoaderComponent } from '../../shared/loader/loader.component';
import {ConfirmationPopupComponent} from '../../shared/confirmation-popup/confirmation-popup.component';
import { FormsModule, ReactiveFormsModule } from '@angular/forms';
import { HttpClientTestingModule} from '@angular/common/http/testing';
import { NgbModule } from '@ng-bootstrap/ng-bootstrap';
import {NgbModal} from '@ng-bootstrap/ng-bootstrap';
import { AdminService } from '../../services/admin/admin.service';
import { of } from 'rxjs';
import {delRoleMsg, deleteProdMsg, changeAlert,addRoleDashboardLicenseError} from '../../shared/message';
import * as _ from 'lodash';
import {featureKeys, addRoleModalHeader, editRoleModalHeader, addProdModalHeader, delType, roleFormMode} from './global';
import { SortableDirective, SortEvent } from '../../shared/directives/sortable.directive';
import {onscreen} from '../../shared/onscreen';


describe('RoleComponent', () => {
  let component: RoleComponent;
  let fixture: ComponentFixture<RoleComponent>;

  beforeEach(async(() => {
    TestBed.configureTestingModule({
      imports: [FormsModule, ReactiveFormsModule, HttpClientTestingModule, NgbModule, RouterTestingModule],
      providers: [NgbModal, onscreen],
      declarations: [RoleComponent, LoaderComponent, ConfirmationPopupComponent, SortableDirective],
      schemas: [CUSTOM_ELEMENTS_SCHEMA]
    })
    .overrideModule(BrowserDynamicTestingModule, { set: { entryComponents: [ConfirmationPopupComponent] } })
    .compileComponents();
  }));

  beforeEach(() => {
    document.cookie = "mps='siemens:siemens:podui'";
    document.cookie = "default_feature=logvault";
    fixture = TestBed.createComponent(RoleComponent);
    component = fixture.componentInstance;
    let service = TestBed.get(AdminService);
    service.userList = JSON.parse('[{"email":"siemens@glassbeam.com","first_name":"Admin","last_name":"User","wb_user_name":"NA","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_admin","realm_def":"dev.glassbeam.com","end_customer":"NA","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"NA","phone":"NA","city":"NA","state":"NA","country":"NA","department":"NA","created_on":null,"modified_on":null,"last_login":"2019-11-11T10:34:11Z","is_external":false,"roleName":"admin","adminUser":true,"selected":false},{"email":"test2@user.com","first_name":"Test","last_name":"User 2","wb_user_name":"Generic","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_role1","realm_def":"dev.glassbeam.com","end_customer":"","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"$2a$10$5MIds.eCAt99Ekf6WyvVd.8.eIAnKL.93GJ4qzOj5vKNl.x38TIni","phone":"456789","city":"dfghjk","state":"dfghjk","country":"dfghjk","department":"dfghj","created_on":"2019-11-08T08:21:34Z","modified_on":"2019-11-10T14:06:26Z","last_login":null,"is_external":false,"roleName":"role1","adminUser":false,"selected":false},{"email":"test3@user.com","first_name":"Test","last_name":"User 3","wb_user_name":"Generic","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_role1","realm_def":"dev.glassbeam.com","end_customer":"","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"$2a$10$MTW51rOMLzOn3CS7pbwqdeAjT9HRLV20heHD8Xj5dPGPpuyj6jeXK","phone":"4567","city":"fghjk","state":"fghjk","country":"fghjk","department":"dfghj","created_on":"2019-11-08T08:22:34Z","modified_on":null,"last_login":null,"is_external":false,"roleName":"role1","adminUser":false,"selected":false},{"email":"test@test.con","first_name":"Test User","last_name":"Test","wb_user_name":"Generic","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_role1","realm_def":"dev.glassbeam.com","end_customer":"","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"$2a$10$bTv9X0qFoyJXI25JrIjqseZeo.0Bv7zigmuBxLpxoVbVcemi2xIje","phone":"34567890","city":"fghjkl","state":"ghjkl","country":"fghjkl","department":"dfghj","created_on":"2019-11-06T06:52:10Z","modified_on":null,"last_login":null,"is_external":false,"roleName":"role1","adminUser":false,"selected":false},{"email":"test@user.com","first_name":"Test","last_name":"USer 1","wb_user_name":"test@user.com","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_role2","realm_def":"dev.glassbeam.com","end_customer":"","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"$2a$10$w/m8xS0Rfxpn5D8RpNKl4e.0eOt7txXjkb5UoB1E4eFs9A5IEpXsu","phone":"3456789","city":"dfghjkl","state":"dfghjkl","country":"fgkl","department":"dfghjk","created_on":"2019-11-08T08:19:40Z","modified_on":null,"last_login":null,"is_external":false,"roleName":"role2","adminUser":false,"selected":false}]');
    fixture.detectChanges();
  });
  afterEach(() => {
    fixture.destroy();
  });
  afterAll(() => {
    TestBed.resetTestingModule();
  });
  it('should create and ngoninit', () => {
    expect(component).toBeTruthy();
    spyOn(component, 'getRoleList').and.returnValue();
    component.ngOnInit();
    expect(component.getRoleList).toHaveBeenCalled();
  });
  it('Should getRoleList > If Role list not available', () => {
    let service = TestBed.get(AdminService);
    let retValue = '{"Status":"Success","Msg":"list of all Users","Data":[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]}'
    spyOn(service, 'getRoleList').and.returnValue(of(JSON.parse(retValue)));
    spyOn(component, 'populateFilterData').and.returnValue();
    spyOn(component, 'resetFilter').and.returnValue();
    spyOn(component, 'populateFormFeatureData').and.returnValue();
    component.getRoleList(true);
    expect(service.getRoleList).toHaveBeenCalled();
  });
  it('Should getRoleList > If Role list available', () => {
    let service = TestBed.get(AdminService);
    service.adminRole = JSON.parse('{"name":"siemens_siemens_podui_admin","realm_uidomain":{"qaui":"qaui.glassbeam.com","autostage":"autostage.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com","siemens:siemens:pod":"qaui.glassbeam.com","siemens:siemens:prod":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Creator,Dashboard Admin,Admin","featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,wb_creator,dashboard_admin,admin","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false},{"features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator","featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator","featuresDis":["Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","pod"],"name":"Siemens prod60","selected":false},{"features":"Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin","featureKey":"dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,admin","featuresDis":["Admin","Dashboards","Explorer","File Upload","Logvault","Rules & Alerts","Workbench"],"mps":["siemens","siemens","prod"],"name":"Siemens prodv10","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["SIEMENS-POD","Siemens prod60","Siemens prodv10"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}');
    service.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"qaui":"qaui.glassbeam.com","autostage":"autostage.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com","siemens:siemens:pod":"qaui.glassbeam.com","siemens:siemens:prod":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Creator,Dashboard Admin,Admin","featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,wb_creator,dashboard_admin,admin","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false},{"features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator","featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator","featuresDis":["Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","pod"],"name":"Siemens prod60","selected":false},{"features":"Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin","featureKey":"dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,admin","featuresDis":["Admin","Dashboards","Explorer","File Upload","Logvault","Rules & Alerts","Workbench"],"mps":["siemens","siemens","prod"],"name":"Siemens prodv10","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["SIEMENS-POD","Siemens prod60","Siemens prodv10"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_automation_role2779","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role2779","roleType":"External"},{"name":"siemens_siemens_podui_automation_role1020","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role1020","roleType":"Internal"},{"name":"siemens_siemens_podui_checking","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com","siemens:siemens:pod":"qaui.glassbeam.com","siemens:siemens:prod":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Rules & Alerts,Explorer,Logvault","featureKey":"dashboards,rules_and_alerts,explorer,logvault","featuresDis":["Dashboards","Explorer","Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false},{"features":"Dashboards,Explorer,Logvault","featureKey":"dashboards,explorer,logvault","featuresDis":["Dashboards","Explorer","Logvault"],"mps":["siemens","siemens","pod"],"name":"Siemens prod60","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","prod"],"name":"Siemens prodv10","selected":false}],"featuresAssigned":["Dashboards","Explorer","Logvault","Rules & Alerts","File Upload"],"prodAssigned":["SIEMENS-POD","Siemens prod60","Siemens prodv10"],"selected":false,"colapsed":true,"DisName":"checking","roleType":"Internal"},{"name":"siemens_siemens_podui_automation_role3041","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Explorer,Logvault,File Upload","featureKey":"dashboards,explorer,logvault,file_upload","featuresDis":["Dashboards","Explorer","File Upload","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Explorer","File Upload","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role3041","roleType":"Internal"},{"name":"siemens_siemens_podui_automation_role7322","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role7322","roleType":"External"},{"name":"siemens_siemens_podui_non_rc","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":"","dqold":"dquiold.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Rules & Alerts,Explorer,Logvault","featureKey":"dashboards,rules_and_alerts,explorer,logvault","featuresDis":["Dashboards","Explorer","Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Explorer","Logvault","Rules & Alerts"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"non_rc","roleType":"Internal"},{"name":"siemens_siemens_podui_otprole23","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Explorer,Logvault","featureKey":"dashboards,explorer,logvault","featuresDis":["Dashboards","Explorer","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Explorer","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"otprole23","roleType":"Internal"},{"name":"siemens_siemens_podui_delete","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"delete","roleType":"Internal"},{"name":"siemens_siemens_podui_rc_wb","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Dashboards,Dashboard Admin,Workbench,Rules & Alerts,Rule Creator,Explorer,Logvault,Health Check","featureKey":"dashboards,dashboard_admin,workbench,rules_and_alerts,rule_creator,explorer,logvault,healthcheck","featuresDis":["Dashboard Admin","Dashboards","Explorer","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Explorer","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"rc_wb","roleType":"Internal"},{"name":"siemens_siemens_podui_iamtest2","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Dashboard Admin,Workbench,Explorer,Logvault,File Upload","featureKey":"dashboards,dashboard_admin,workbench,explorer,logvault,file_upload","featuresDis":["Dashboard Admin","Dashboards","Explorer","File Upload","Logvault","Workbench"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Explorer","File Upload","Logvault","Workbench"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"iamtest2","roleType":"Internal"},{"name":"siemens_siemens_podui_test1","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:prod":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","prod"],"name":"Siemens prodv10","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens prodv10"],"selected":false,"colapsed":true,"DisName":"test1","roleType":"Internal"},{"name":"siemens_siemens_podui_automation_role7855","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Explorer,Logvault,File Upload","featureKey":"dashboards,explorer,logvault,file_upload","featuresDis":["Dashboards","Explorer","File Upload","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Explorer","File Upload","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role7855","roleType":"Internal"},{"name":"siemens_siemens_podui_automation_role5495","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role5495","roleType":"External"},{"name":"siemens_siemens_podui_rewrewr_test","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["File Upload","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"rewrewr_test","roleType":"Internal"},{"name":"siemens_siemens_podui_otprole","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email","phone"],"featureData":[{"features":"Dashboards,Rules & Alerts,Logvault","featureKey":"dashboards,rules_and_alerts,logvault","featuresDis":["Dashboards","Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Logvault","Rules & Alerts"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"otprole","roleType":"Internal"},{"name":"siemens_siemens_podui_automation_role971","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role971","roleType":"External"},{"name":"siemens_siemens_podui_test5444","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"test5444","roleType":"Internal"},{"name":"siemens_siemens_podui_iamtest1","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:pod":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","pod"],"name":"Siemens prod60","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens prod60"],"selected":false,"colapsed":true,"DisName":"iamtest1","roleType":"Internal"},{"name":"siemens_siemens_podui_asdfg","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Rules & Alerts,Logvault","featureKey":"rules_and_alerts,logvault","featuresDis":["Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Logvault","Rules & Alerts"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"asdfg","roleType":"Internal"},{"name":"siemens_siemens_podui_iamtest","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"iamtest","roleType":"Internal"},{"name":"siemens_siemens_podui_dfghj","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"dfghj","roleType":"External"},{"name":"siemens_siemens_podui_anishrole1","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:pod":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","pod"],"name":"Siemens prod60","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens prod60"],"selected":false,"colapsed":true,"DisName":"anishrole1","roleType":"Internal"},{"name":"siemens_siemens_podui_123456789012345678901234567890123456789012345678901234567890","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email","phone"],"featureData":[{"features":"Explorer,Logvault,File Upload,Health Check","featureKey":"explorer,logvault,file_upload,healthcheck","featuresDis":["Explorer","File Upload","Health Check","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Explorer","File Upload","Health Check","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"123456789012345678901234567890123456789012345678901234567890","roleType":"Internal"},{"name":"siemens_siemens_podui_extrole","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com","siemens:siemens:prod":"qaui.glassbeam.com"},"two_auth_support":["email","phone"],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false},{"features":"Logvault,Health Check","featureKey":"logvault,healthcheck","featuresDis":["Health Check","Logvault"],"mps":["siemens","siemens","prod"],"name":"Siemens prodv10","selected":false}],"featuresAssigned":["Health Check","Logvault"],"prodAssigned":["SIEMENS-POD","Siemens prodv10"],"selected":false,"colapsed":true,"DisName":"extrole","roleType":"External"},{"name":"siemens_siemens_podui_automation_role2817","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role2817","roleType":"External"},{"name":"siemens_siemens_podui_healthchecknew","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"healthchecknew","roleType":"External"},{"name":"siemens_siemens_podui_automation_role9915","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role9915","roleType":"External"},{"name":"siemens_siemens_podui_rc","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Dashboard Admin,Rules & Alerts,Rule Creator,Explorer,Logvault","featureKey":"dashboards,dashboard_admin,rules_and_alerts,rule_creator,explorer,logvault","featuresDis":["Dashboard Admin","Dashboards","Explorer","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Explorer","Logvault","Rule Creator","Rules & Alerts"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"rc","roleType":"Internal"}]')
    let retValue = '{"Status":"Success","Msg":"list of all Users","Data":[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]}'
    spyOn(service, 'getRoleList').and.returnValue(of(JSON.parse(retValue)));
    spyOn(component, 'populateFilterData').and.returnValue();
    spyOn(component, 'resetFilter').and.returnValue();
    spyOn(component, 'populateFormFeatureData').and.returnValue();
    component.getRoleList(false);
    expect(service.getRoleList).not.toHaveBeenCalled();
  });
  it('Should getFilterRoleData', () => {
    component.roleFilterArray[3].data = JSON.parse('[{"name":"admin","selected":false},{"name":"automation_role2779","selected":false},{"name":"automation_role1020","selected":false},{"name":"checking","selected":false},{"name":"automation_role3041","selected":false},{"name":"automation_role7322","selected":false},{"name":"non_rc","selected":false},{"name":"otprole23","selected":false},{"name":"delete","selected":false},{"name":"rc_wb","selected":false},{"name":"iamtest2","selected":false},{"name":"test1","selected":false},{"name":"automation_role7855","selected":false},{"name":"automation_role5495","selected":false},{"name":"rewrewr_test","selected":false},{"name":"otprole","selected":false},{"name":"automation_role971","selected":false},{"name":"test5444","selected":false},{"name":"iamtest1","selected":false},{"name":"asdfg","selected":false},{"name":"iamtest","selected":false},{"name":"dfghj","selected":false},{"name":"anishrole1","selected":false},{"name":"123456789012345678901234567890123456789012345678901234567890","selected":false},{"name":"extrole","selected":false},{"name":"automation_role2817","selected":false},{"name":"healthchecknew","selected":false},{"name":"automation_role9915","selected":false},{"name":"rc","selected":false}]');
    component.roleNameFilterSearch = "role";
    let res = JSON.parse('[{"name":"automation_role2779","selected":false},{"name":"automation_role1020","selected":false},{"name":"automation_role3041","selected":false},{"name":"automation_role7322","selected":false},{"name":"otprole23","selected":false},{"name":"automation_role7855","selected":false},{"name":"automation_role5495","selected":false},{"name":"otprole","selected":false},{"name":"automation_role971","selected":false},{"name":"anishrole1","selected":false},{"name":"extrole","selected":false},{"name":"automation_role2817","selected":false},{"name":"automation_role9915","selected":false}]');
    let actRes = component.getFilterRoleData();
    expect(actRes).toEqual(res);
  });
  it('clearSelectedProduct', () => {
    component.availableFeatureData = JSON.parse('[{"name":"SIEMENS-POD","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator,Creator,Dashboard Admin","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator,wb_creator,dashboard_admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]},{"name":"Siemens prod60","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator","mps":["siemens","siemens","pod"],"selected":false,"expand":true,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]},{"name":"Siemens prodv10","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin","mps":["siemens","siemens","prod"],"selected":false,"expand":true,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":true,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}]');
    let res = JSON.parse('[{"name":"SIEMENS-POD","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator,Creator,Dashboard Admin","mps":["siemens","siemens","podui"],"selected":false,"expand":false,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator,wb_creator,dashboard_admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]},{"name":"Siemens prod60","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator","mps":["siemens","siemens","pod"],"selected":false,"expand":true,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]},{"name":"Siemens prodv10","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin","mps":["siemens","siemens","prod"],"selected":false,"expand":true,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":true,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}]');
    spyOn(component, 'onProdChange').and.returnValue();
    component.clearSelectedProduct();
    expect(component.availableFeatureData).toEqual(res);
  });
  it('featureExpandToggle', () => {
    component.expandFeatureAll = true;
    component.selectedFormFeatureData = JSON.parse('[{"name":"SIEMENS-POD","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator,Creator,Dashboard Admin","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator,wb_creator,dashboard_admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]},{"name":"Siemens prod60","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator","mps":["siemens","siemens","pod"],"selected":true,"expand":true,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}]');
    let res = JSON.parse('[{"name":"SIEMENS-POD","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator,Creator,Dashboard Admin","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator,wb_creator,dashboard_admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]},{"name":"Siemens prod60","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator","mps":["siemens","siemens","pod"],"selected":true,"expand":false,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}]');
    component.featureExpandToggle();
    expect(component.selectedFormFeatureData).toEqual(res);
  });
  it('expandFeatureSingle', () => {
    component.expandFeatureAll = true;
    component.selectedFormFeatureData = JSON.parse('[{"name":"SIEMENS-POD","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator,Creator,Dashboard Admin","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator,wb_creator,dashboard_admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]},{"name":"Siemens prod60","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator","mps":["siemens","siemens","pod"],"selected":true,"expand":true,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}]');
    let res = JSON.parse('[{"name":"SIEMENS-POD","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator,Creator,Dashboard Admin","mps":["siemens","siemens","podui"],"selected":true,"expand":true,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator,wb_creator,dashboard_admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]},{"name":"Siemens prod60","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator","mps":["siemens","siemens","pod"],"selected":true,"expand":false,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}]');
    component.expandFeatureSingle(1);
    expect(component.selectedFormFeatureData).toEqual(res);
  });
  it('allRoleSelected | Only Admin Role In The List', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.allRoleSelected();
    expect(component.isSelectAll).toEqual(false);
  });
  it('allRoleSelected more than one roles in role list', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Rules & Alerts,Logvault,File Upload","featureKey":"dashboards,rules_and_alerts,logvault,file_upload","featuresDis":["Dashboards","File Upload","Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Explorer,Rules & Alerts,Logvault,Rule Creator,File Upload,Health Check","featureKey":"explorer,rules_and_alerts,logvault,rule_creator,file_upload,healthcheck","featuresDis":["Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.allRoleSelected();
    expect(component.isSelectAll).toEqual(false);
  });
  it('allRoleSelected more than one roles in role list and selected', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Rules & Alerts,Logvault,File Upload","featureKey":"dashboards,rules_and_alerts,logvault,file_upload","featuresDis":["Dashboards","File Upload","Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Explorer,Rules & Alerts,Logvault,Rule Creator,File Upload,Health Check","featureKey":"explorer,rules_and_alerts,logvault,rule_creator,file_upload,healthcheck","featuresDis":["Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":true,"colapsed":true,"DisName":"role1","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.allRoleSelected();
    expect(component.isSelectAll).toEqual(true);
  });
  it('roleToggleSelect', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Rules & Alerts,Logvault,File Upload","featureKey":"dashboards,rules_and_alerts,logvault,file_upload","featuresDis":["Dashboards","File Upload","Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Explorer,Rules & Alerts,Logvault,Rule Creator,File Upload,Health Check","featureKey":"explorer,rules_and_alerts,logvault,rule_creator,file_upload,healthcheck","featuresDis":["Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":true,"colapsed":true,"DisName":"role1","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.roleToggleSelect();
    expect(component.roleList[1].selected).toEqual(true);
  });
  it('rolePageChanged', () => {
    spyOn(component, 'allRoleSelected').and.returnValue(true);
    component.rolePageChanged();
    expect(component.allRoleSelected).toHaveBeenCalled()
  });
  it('RoleFormReset', () => {
    spyOn(component, 'populateFormFeatureData').and.returnValue();
    component.RoleFormReset();
    expect(component.populateFormFeatureData).toHaveBeenCalled();
    expect(component.submitted).toEqual(false);
    expect(component.addEditRoleForm.controls['roleName'].value).toEqual("");
    expect(component.addEditRoleForm.controls['prodName'].value).toEqual("");
    expect(component.addEditRoleForm.controls['roleType'].value).toEqual(false);
  });
  it('isExternalRole | if internal', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.RoleFormReset();
    component.populateFormFeatureData();
    component.availableFeatureData[0].selected = true;
    component.onProdChange();
    component.isExternalRole();
    expect(component.defaultFeat).toEqual('healthcheck');
    expect(component.disableForm).toEqual(false);
  });
  it('isExternalRole | if external', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.RoleFormReset();
    component.populateFormFeatureData();
    component.availableFeatureData[0].selected = true;
    component.onProdChange();
    component.addEditRoleForm.patchValue({
      roleType:true
    });
    component.isExternalRole();
    expect(component.defaultFeat).toEqual("logvault");
  });
  it('isExternalRole | if external and Healthcheck is not enabled in role', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.RoleFormReset();
    component.populateFormFeatureData();
    component.availableFeatureData[0].selected = true;
    component.onProdChange();
    component.addEditRoleForm.patchValue({
      roleType:true
    });
    component.isExternalRole();    
    expect(component.disableForm).toEqual(false);
  });
  it('getDisabledFeatureState > dashboard_admin, dashboard is not checked', () => {
    let paramProd = JSON.parse('{"name":"Siemens_pod","features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","mps":["siemens","siemens","pod60"],"selected":true,"expand":false,"featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":true,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":true,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"}')
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(true);
  });
  it('getDisabledFeatureState > dashboard_admin not available, dashboard is checked', () => {
    let paramProd = JSON.parse('{"name":"Siemens_pod80","features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer","mps":["siemens","siemens","pod80"],"selected":true,"expand":false,"featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":true,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":true,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":true,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":true,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"}')
    let res = component.getDisabledFeatureState(paramFeature ,paramProd);
    expect(res).toEqual(true);
  });
  it('getDisabledFeatureState > dashboard_admin available, dashboard is checked', () => {
    let paramProd = JSON.parse('{"name":"Siemens Prod60","features":"Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Admin,Health Check","mps":["siemens","siemens","pod60"],"selected":true,"expand":false,"featureKey":"dashboards,file_upload,rules_and_alerts,explorer,logvault,admin,healthcheck","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":true,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":true,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"}')
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(false);
  });
  it('getDisabledFeatureState > workbench, dashboard_admin is not checked', () => {
    let paramProd = JSON.parse('{"name":"Siemens Prod60","features":"Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Admin,Health Check","mps":["siemens","siemens","pod60"],"selected":true,"expand":false,"featureKey":"dashboards,file_upload,rules_and_alerts,explorer,logvault,admin,healthcheck","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":true,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":true,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"}');
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(true);
  });
  it('getDisabledFeatureState > workbench not available, dashboard_admin checked', () => {
    let paramProd = JSON.parse('{"name":"Siemens Prod60","features":"Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Admin,Health Check","mps":["siemens","siemens","pod60"],"selected":true,"expand":false,"featureKey":"dashboards,file_upload,rules_and_alerts,explorer,logvault,admin,healthcheck","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":true,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":true,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Workbench","value":"workbench","checked":false,"disabled":true,"category":"dashboards"}');
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(true);
  });
  it('getDisabledFeatureState > workbench available, dashboard_admin checked', () => {
    let paramProd = JSON.parse('{"name":"Siemens Prod60","features":"Dashboards,Dashboard Admin,Workbench,File Upload,Rules & Alerts,Explorer,Logvault,Admin,Health Check","mps":["siemens","siemens","pod60"],"selected":true,"expand":false,"featureKey":"dashboards,file_upload,rules_and_alerts,explorer,logvault,admin,healthcheck","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":true,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":true,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"}');
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(false);
  });
  it('getDisabledFeatureState > creator, workbench not checked', () => {
    let paramProd = JSON.parse('{"name":"SIEMENS-POD","features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"admin,dashboards,file_upload,rules_and_alerts, explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"}');
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(true);
  });
  it('getDisabledFeatureState > creator not available, workbench checked', () => {
    let paramProd = JSON.parse('{"name":"SIEMENS-POD","features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"admin,dashboards,file_upload,rules_and_alerts, explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"}');
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(true);
  });
  it('getDisabledFeatureState > creator available and vertica entry available, workbench checked', () => {
    let paramProd = JSON.parse('{"name":"SIEMENS-POD","features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"admin,dashboards,file_upload,rules_and_alerts, explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":true,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"}');
    component.iscreatorenabled = true;
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(false);
  });
  it('getDisabledFeatureState > creator available and vertica entry not available, workbench checked', () => {
    let paramProd = JSON.parse('{"name":"SIEMENS-POD","features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"admin,dashboards,file_upload,rules_and_alerts, explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":true,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"}');
    component.iscreatorenabled = false;
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(true);
  });
  it('getDisabledFeatureState > rule creator, r&a not checked', () => {
    let paramProd = JSON.parse('{"name":"SIEMENS-POD","features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"admin,dashboards,file_upload,rules_and_alerts, explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":true,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"dashboards"}');
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(true);
  });
  it('getDisabledFeatureState > rule creator not available, r&a checked', () => {
    let paramProd = JSON.parse('{"name":"SIEMENS-POD","features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"admin,dashboards,file_upload,rules_and_alerts, explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":true,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":true,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":true,"category":"dashboards"}');
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(true);
  });
  it('getDisabledFeatureState > rule creator available, r&a checked', () => {
    let paramProd = JSON.parse('{"name":"SIEMENS-POD","features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"admin,dashboards,file_upload,rules_and_alerts, explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":true,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":true,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"dashboards"}');
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(false);
  });
  it('getDisabledFeatureState > any feature disabled', () => {
    let paramProd = JSON.parse('{"name":"SIEMENS-POD","features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"admin,dashboards,file_upload,rules_and_alerts, explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":true,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":true,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"File Upload","value":"file_upload","checked":false,"disabled":true,"category":"dashboards"}');
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(true);
  });
  it('getDisabledFeatureState > any feature enabled', () => {
    let paramProd = JSON.parse('{"name":"SIEMENS-POD","features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"admin,dashboards,file_upload,rules_and_alerts, explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":true,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":true,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let paramFeature = JSON.parse('{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"dashboards"}');
    let res = component.getDisabledFeatureState(paramFeature, paramProd);
    expect(res).toEqual(false);
  });
  it('onProdChange', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.populateFormFeatureData();
    spyOn(component, 'isExternalRole').and.returnValue();
    component.RoleFormReset();
    component.availableFeatureData[0].selected = true;
    component.onProdChange();
    expect(component.selectedFormFeatureData.length).toEqual(1);
  });
  it('getFeatureFiltered', () => {
    let prodParam = JSON.parse('{"name":"SIEMENS-POD","features":"Admin,Dashboards,File Upload,Rules & Alerts, explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"admin,dashboards,file_upload,rules_and_alerts, explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let grpParam = "rules_and_alerts"
    let expRes = JSON.parse('[{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"}]');
    let res = component.getFeatureFiltered(prodParam, grpParam);
    expect(res).toEqual(expRes);
  });
  it('openModal | ADD ROLE', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.openModal('addeditrole',roleFormMode.add,'' as any,'' as any);
    expect(component.modalHeader).toEqual(addRoleModalHeader);
    expect(component.editRoleMode).toEqual(false);
    expect(component.addProdMode).toEqual(false);
  });
  it('openModal | EDIT ROLE', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","two_auth_support":["email"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.populateFormFeatureData();
    let roleParam = JSON.parse('{"name":"siemens_siemens_podui_role10","two_auth_support":["email"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role10","roleType":"Internal"}');
    let prodParam = JSON.parse('{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}');
    component.openModal('addeditrole',roleFormMode.edit,roleParam as any,prodParam as any);
    expect(component.modalHeader).toEqual(editRoleModalHeader+roleParam.DisName);
    expect(component.editRoleMode).toEqual(true);
    expect(component.addProdMode).toEqual(false);
  });
  it('openModal | ADD PRODUCT', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.addProdRoleItem = JSON.parse('{"name":"siemens_siemens_podui_role10","two_auth_support":["email"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role10","roleType":"Internal"}');
    component.openModal('addeditrole',roleFormMode.addProd,"" as any,"" as any);
    expect(component.modalHeader).toEqual(addProdModalHeader);
    expect(component.editRoleMode).toEqual(false);
    expect(component.addProdMode).toEqual(true);
  });
  it('OpenConfirmation | Delete Multiple Role', () => {
    let modalservice = TestBed.get(NgbModal);
    let service = TestBed.get(AdminService);
    service.userList = JSON.parse('[{"email":"siemens@glassbeam.com","first_name":"Admin","last_name":"User","wb_user_name":"NA","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_admin","realm_def":"dev.glassbeam.com","end_customer":"NA","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"NA","phone":"NA","city":"NA","state":"NA","country":"NA","department":"NA","created_on":null,"modified_on":null,"last_login":"2019-11-11T10:03:20Z","is_external":false,"roleName":"admin","adminUser":true,"selected":false}]');
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","two_auth_support":["email"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","two_auth_support":["email","phone"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload,Health Check","featureKey":"logvault,file_upload,healthcheck","featuresDis":["File Upload","Health Check","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":true,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","two_auth_support":["email","phone"],"realm_uidomain":{"prod":"dev.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Rules & Alerts,Logvault,File Upload","featureKey":"dashboards,rules_and_alerts,logvault,file_upload","featuresDis":["Dashboards","File Upload","Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload,Health Check","featureKey":"logvault,file_upload,healthcheck","featuresDis":["File Upload","Health Check","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":true,"colapsed":true,"DisName":"role1","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.openConfirmation(delType.role,'','');
    expect(modalservice._modalStack._modalRefs[0]._contentRef.componentRef.instance.msg).toEqual(delRoleMsg.multiple);
  });
  it('OpenConfirmation | Delete Single Role', () => {
    let modalservice = TestBed.get(NgbModal);
    let service = TestBed.get(AdminService);
    service.userList = JSON.parse('[{"email":"siemens@glassbeam.com","first_name":"Admin","last_name":"User","wb_user_name":"NA","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_admin","realm_def":"dev.glassbeam.com","end_customer":"NA","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"NA","phone":"NA","city":"NA","state":"NA","country":"NA","department":"NA","created_on":null,"modified_on":null,"last_login":"2019-11-11T10:03:20Z","is_external":false,"roleName":"admin","adminUser":true,"selected":false}]');
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload,Health Check","featureKey":"logvault,file_upload,healthcheck","featuresDis":["File Upload","Health Check","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Rules & Alerts,Logvault,File Upload","featureKey":"dashboards,rules_and_alerts,logvault,file_upload","featuresDis":["Dashboards","File Upload","Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload,Health Check","featureKey":"logvault,file_upload,healthcheck","featuresDis":["File Upload","Health Check","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":true,"colapsed":true,"DisName":"role1","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.openConfirmation(delType.role,'','');
    expect(modalservice._modalStack._modalRefs[0]._contentRef.componentRef.instance.msg).toEqual(delRoleMsg.single);
  });
  it('OpenConfirmation | Delete Prod > Role has 2 products', () => {
    let modalservice = TestBed.get(NgbModal);
    let service = TestBed.get(AdminService);
    service.userList = JSON.parse('[{"email":"siemens@glassbeam.com","first_name":"Admin","last_name":"User","wb_user_name":"NA","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_admin","realm_def":"dev.glassbeam.com","end_customer":"NA","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"NA","phone":"NA","city":"NA","state":"NA","country":"NA","department":"NA","created_on":null,"modified_on":null,"last_login":"2019-11-11T10:03:20Z","is_external":false,"roleName":"admin","adminUser":true,"selected":false}]');
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload,Health Check","featureKey":"logvault,file_upload,healthcheck","featuresDis":["File Upload","Health Check","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    let param1 = JSON.parse('{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"}, "prodAssigned":["Siemens","Siemens_pod"],"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload,Health Check","featureKey":"logvault,file_upload,healthcheck","featuresDis":["File Upload","Health Check","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"}');
    let param2 = JSON.parse('{"features":"Logvault,File Upload,Health Check","featureKey":"logvault,file_upload,healthcheck","featuresDis":["File Upload","Health Check","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}');
    component.openConfirmation(delType.prod,param1,param2);
    expect(modalservice._modalStack._modalRefs[0]._contentRef.componentRef.instance.msg).toEqual(delRoleMsg.prodDel+" <strong>"+param1.DisName+"-"+param2.name+"</strong>?");
  });
  it('disableProd | to be disabled', () => {
    component.addProdRoleItem = JSON.parse('{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":true,"colapsed":true,"DisName":"role2","roleType":"Internal"}');
    let param = JSON.parse('{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}');
    let res = component.disableProd(param);
    expect(res).toBeTruthy();
  });
  it('disableProd | Not to be disabled', () => {
    component.addProdRoleItem = JSON.parse('{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":true,"colapsed":true,"DisName":"role2","roleType":"Internal"}');
    let param = JSON.parse('{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}');
    let res = component.disableProd(param);
    expect(res).toBeFalsy();
  });
  it('getActionButtonDisable | Delete Button To Be Disabled', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"}]');
    let res = component.getActionButtonDisable(delType.role);
    expect(res).toBeTruthy();
  });
  it('getActionButtonDisable | Delete Button To Be Disabled', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":true,"colapsed":true,"DisName":"role2","roleType":"Internal"}]');
    let res = component.getActionButtonDisable(delType.role);
    expect(res).toBeFalsy();
  });
  it('getActionButtonDisable | Add Prod Button To Be Disabled', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"}]');
    let res = component.getActionButtonDisable(roleFormMode.addProd);
    expect(res).toBeTruthy();
  });
  it('getActionButtonDisable | Add Prod Button To Be Enabled', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":true,"colapsed":true,"DisName":"role2","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.addProdRoleItem = JSON.parse('{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":true,"colapsed":true,"DisName":"role2","roleType":"Internal"}');
    let res = component.getActionButtonDisable(roleFormMode.addProd);
    expect(res).toBeFalsy();
  });
  it('addRoleSubmit | Add Role > No Role Name Field > Form Should Be invalid', () => {
    let service = TestBed.get(AdminService);
    let value1 = JSON.parse('[{"name":"siemens_siemens_podui_admin","disName":"admin","featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"roleType":"Internal"}]')
    spyOn(service, 'getRoleListArray').and.returnValue(value1);
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.populateFormFeatureData();
    var dummyElement = document.createElement('div');
    document.getElementById = jasmine.createSpy('addEditRoleForm').and.returnValue(dummyElement);
    component.RoleFormReset();
    component.addRoleSubmit();
    expect(component.addEditRoleForm.controls['prodName'].status).toEqual('INVALID');
    expect(component.addEditRoleForm.controls['roleName'].status).toEqual('INVALID');
    expect(component.addEditRoleForm.status).toEqual('INVALID');
  });
  it('addRoleSubmit | Add Role > Role Name Set > Prod Name Not Set > Form Should Be invalid', () => {
    let service = TestBed.get(AdminService);
    let value1 = JSON.parse('[{"name":"siemens_siemens_podui_admin","disName":"admin","featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"roleType":"Internal"}]')
    spyOn(service, 'getRoleListArray').and.returnValue(value1);
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    var dummyElement = document.createElement('div');
    document.getElementById = jasmine.createSpy('addEditRoleForm').and.returnValue(dummyElement);
    component.populateFormFeatureData();
    component.RoleFormReset();
    component.onProdChange();
    component.addEditRoleForm.patchValue({
      roleName:"role1"
    })
    component.addRoleSubmit();
    expect(component.addEditRoleForm.controls['prodName'].status).toEqual('INVALID');
    expect(component.addEditRoleForm.controls['roleName'].status).toEqual('VALID');
    expect(component.addEditRoleForm.status).toEqual('INVALID');
  });
  it('addRoleSubmit | Add Role > Role Name Set > Prod Name Set > Form Should Be Valid and Service call expected', () => {
    let service = TestBed.get(AdminService);
    let value1 = JSON.parse('[{"name":"siemens_siemens_podui_admin","disName":"admin","featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"roleType":"Internal"}]')
    spyOn(service, 'getRoleListArray').and.returnValue(value1);
    let value2 = JSON.parse('{"Status":"Success","Msg":"Role role1 added successfully","Data":""}');
    spyOn(service, 'post').and.returnValue(of(value2));
    component.adminRole = value1[0];
    component.populateFormFeatureData();
    component.RoleFormReset();
    component.availableFeatureData[0].selected = true;
    component.onProdChange();
    component.addEditRoleForm.patchValue({
      roleName:"role1",
      prodName:"Siemens"
    });
    expect(component.addEditRoleForm.controls['prodName'].status).toEqual('VALID');
    expect(component.addEditRoleForm.controls['roleName'].status).toEqual('VALID');
    expect(component.addEditRoleForm.status).toEqual('VALID');
    component.addRoleMps = JSON.parse('["siemens","siemens","podui"]');
    component.addRoleSubmit();
    expect(service.post).toHaveBeenCalled();
  });
  it('addRoleSubmit | Edit A Role and add workbench permission with tableau not configured', () => {
    let service = TestBed.get(AdminService);
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","two_auth_support": ["email"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"}]');
    let value1 = JSON.parse('[{"name":"siemens_siemens_podui_admin","disName":"admin","featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"roleType":"Internal"}]');
    service.licensesData = JSON.parse('{"maxUsers":5,"maxWBLicenses":3,"maxCreatorLicenses":3,"totalUsers":5,"workbenchLicensedUsed":1,"creatorLicensesUsed":1}');
    component.adminRole = component.roleList[0];
    component.isTableauConfigured = false;
    component.populateFormFeatureData();
    component.RoleFormReset();
    service.userList = JSON.parse('[{"email":"siemens@glassbeam.com","first_name":"Admin","last_name":"User","wb_user_name":"NA","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_admin","realm_def":"dev.glassbeam.com","end_customer":"NA","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"NA","phone":"NA","city":"NA","state":"NA","country":"NA","department":"NA","created_on":null,"modified_on":null,"last_login":"2019-11-11T10:34:11Z","is_external":false,"roleName":"admin","adminUser":true,"selected":false},{"email":"test2@user.com","first_name":"Test","last_name":"User 2","wb_user_name":"Generic","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_role1","realm_def":"dev.glassbeam.com","end_customer":"","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"$2a$10$5MIds.eCAt99Ekf6WyvVd.8.eIAnKL.93GJ4qzOj5vKNl.x38TIni","phone":"456789","city":"dfghjk","state":"dfghjk","country":"dfghjk","department":"dfghj","created_on":"2019-11-08T08:21:34Z","modified_on":"2019-11-10T14:06:26Z","last_login":null,"is_external":false,"roleName":"role1","adminUser":false,"selected":false},{"email":"test3@user.com","first_name":"Test","last_name":"User 3","wb_user_name":"Generic","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_role1","realm_def":"dev.glassbeam.com","end_customer":"","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"$2a$10$MTW51rOMLzOn3CS7pbwqdeAjT9HRLV20heHD8Xj5dPGPpuyj6jeXK","phone":"4567","city":"fghjk","state":"fghjk","country":"fghjk","department":"dfghj","created_on":"2019-11-08T08:22:34Z","modified_on":null,"last_login":null,"is_external":false,"roleName":"role1","adminUser":false,"selected":false},{"email":"test@test.con","first_name":"Test User","last_name":"Test","wb_user_name":"Generic","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_role1","realm_def":"dev.glassbeam.com","end_customer":"","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"$2a$10$bTv9X0qFoyJXI25JrIjqseZeo.0Bv7zigmuBxLpxoVbVcemi2xIje","phone":"34567890","city":"fghjkl","state":"ghjkl","country":"fghjkl","department":"dfghj","created_on":"2019-11-06T06:52:10Z","modified_on":null,"last_login":null,"is_external":false,"roleName":"role1","adminUser":false,"selected":false},{"email":"test@user.com","first_name":"Test","last_name":"USer 1","wb_user_name":"test@user.com","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_role2","realm_def":"dev.glassbeam.com","end_customer":"","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"$2a$10$w/m8xS0Rfxpn5D8RpNKl4e.0eOt7txXjkb5UoB1E4eFs9A5IEpXsu","phone":"3456789","city":"dfghjkl","state":"dfghjkl","country":"fgkl","department":"dfghjk","created_on":"2019-11-08T08:19:40Z","modified_on":null,"last_login":null,"is_external":false,"roleName":"role2","adminUser":false,"selected":false}]');
    let type = "editRole";
    let role = JSON.parse('{"name":"siemens_siemens_podui_role2","two_auth_support": ["email"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"}');
    let prod = JSON.parse('{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}');
    spyOn(component, 'isExternalRole').and.returnValue();
    component.openModal("",type,role,prod);
    spyOn(service, 'getRoleListArray').and.returnValue(value1);
    spyOn(service, 'post').and.returnValue(of(value1));
    component.selectedFormFeatureData[0].featureDisplay.filter(item => item.value === featureKeys.workbench)[0].checked = true;
    component.editRoleMode = true;
    component.addRoleSubmit();
    expect(service.post).toHaveBeenCalledTimes(1);
  });

  it('addRoleSubmit | Edit A Role and add workbench permission with tableau configured', () => {
    let service = TestBed.get(AdminService);
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","two_auth_support": ["email"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"}]');
    let value1 = JSON.parse('[{"name":"siemens_siemens_podui_admin","disName":"admin","featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"roleType":"Internal"}]');
    service.licensesData = JSON.parse('{"maxUsers":5,"maxWBLicenses":3,"maxCreatorLicenses":3,"totalUsers":5,"workbenchLicensedUsed":1,"creatorLicensesUsed":1}');
    component.adminRole = component.roleList[0];
    component.isTableauConfigured = true;
    component.populateFormFeatureData();
    component.RoleFormReset();
    service.userList = JSON.parse('[{"email":"siemens@glassbeam.com","first_name":"Admin","last_name":"User","wb_user_name":"NA","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_admin","realm_def":"dev.glassbeam.com","end_customer":"NA","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"NA","phone":"NA","city":"NA","state":"NA","country":"NA","department":"NA","created_on":null,"modified_on":null,"last_login":"2019-11-11T10:34:11Z","is_external":false,"roleName":"admin","adminUser":true,"selected":false},{"email":"test2@user.com","first_name":"Test","last_name":"User 2","wb_user_name":"Generic","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_role1","realm_def":"dev.glassbeam.com","end_customer":"","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"$2a$10$5MIds.eCAt99Ekf6WyvVd.8.eIAnKL.93GJ4qzOj5vKNl.x38TIni","phone":"456789","city":"dfghjk","state":"dfghjk","country":"dfghjk","department":"dfghj","created_on":"2019-11-08T08:21:34Z","modified_on":"2019-11-10T14:06:26Z","last_login":null,"is_external":false,"roleName":"role1","adminUser":false,"selected":false},{"email":"test3@user.com","first_name":"Test","last_name":"User 3","wb_user_name":"Generic","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_role1","realm_def":"dev.glassbeam.com","end_customer":"","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"$2a$10$MTW51rOMLzOn3CS7pbwqdeAjT9HRLV20heHD8Xj5dPGPpuyj6jeXK","phone":"4567","city":"fghjk","state":"fghjk","country":"fghjk","department":"dfghj","created_on":"2019-11-08T08:22:34Z","modified_on":null,"last_login":null,"is_external":false,"roleName":"role1","adminUser":false,"selected":false},{"email":"test@test.con","first_name":"Test User","last_name":"Test","wb_user_name":"Generic","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_role1","realm_def":"dev.glassbeam.com","end_customer":"","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"$2a$10$bTv9X0qFoyJXI25JrIjqseZeo.0Bv7zigmuBxLpxoVbVcemi2xIje","phone":"34567890","city":"fghjkl","state":"ghjkl","country":"fghjkl","department":"dfghj","created_on":"2019-11-06T06:52:10Z","modified_on":null,"last_login":null,"is_external":false,"roleName":"role1","adminUser":false,"selected":false},{"email":"test@user.com","first_name":"Test","last_name":"USer 1","wb_user_name":"test@user.com","report_usage":false,"org":"siemens","role":"siemens_siemens_podui_role2","realm_def":"dev.glassbeam.com","end_customer":"","mps_def":"siemens:siemens:podui","dashboard_admin":false,"active":true,"token_id":"$2a$10$w/m8xS0Rfxpn5D8RpNKl4e.0eOt7txXjkb5UoB1E4eFs9A5IEpXsu","phone":"3456789","city":"dfghjkl","state":"dfghjkl","country":"fgkl","department":"dfghjk","created_on":"2019-11-08T08:19:40Z","modified_on":null,"last_login":null,"is_external":false,"roleName":"role2","adminUser":false,"selected":false}]');
    let type = "editRole";
    let role = JSON.parse('{"name":"siemens_siemens_podui_role2","two_auth_support": ["email"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"}');
    let prod = JSON.parse('{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}');
    spyOn(component, 'isExternalRole').and.returnValue();
    component.openModal("",type,role,prod);
    spyOn(service, 'getRoleListArray').and.returnValue(value1);
    spyOn(service, 'post').and.returnValue(of(value1));
    component.selectedFormFeatureData[0].featureDisplay.filter(item => item.value === featureKeys.workbench)[0].checked = true;
    component.editRoleMode = true;
    component.addRoleSubmit();
    expect(service.post).toHaveBeenCalledTimes(2);
  });

  it('getCreatorEnabled | If vertica entry available', () => {
    let service = TestBed.get(AdminService);
    let ret = {"Status":"Success","Msg":"List of realms","Data":[{"name":"qaui","apps_version":"6.6.0.26","is_url":"https://qais.glassbeam.com/v1","ui_url":"qaui.glassbeam.com","vertica_server":"168.128.254.69","vertica_port":"5433","vertica_user":"gbd","vertica_pwd":"dbadmin123"}]};
    spyOn(service, 'get').and.returnValue(of(ret));
    component.getCreatorEnabled();
    expect(component.iscreatorenabled).toBeTruthy();
  });
  it('getCreatorEnabled | If vertica entry not available', () => {
    let service = TestBed.get(AdminService);
    let ret = {"Status":"Success","Msg":"List of realms","Data":[{"name":"qaui","apps_version":"6.6.0.26","is_url":"https://qais.glassbeam.com/v1","ui_url":"qaui.glassbeam.com","vertica_server":"NA","vertica_port":"NA","vertica_user":"NA","vertica_pwd":"NA"}]};
    spyOn(service, 'get').and.returnValue(of(ret));
    component.getCreatorEnabled();
    expect(component.iscreatorenabled).toBeFalsy();
  });
  it('Onsort', () => {
    let service = TestBed.get(AdminService);
    service.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false,"mps_def":"siemens:siemens:podui"}],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"}]');
    let param:SortEvent = {
      column:"DisName",
      direction:"asc"
    };
    component.onSort(param);
    let res = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false,"mps_def":"siemens:siemens:podui"}],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"}]');
    expect(component.roleList).toEqual(res);
  });
  it('populateFilterData', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":true,"colapsed":true,"DisName":"role2","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    let res = JSON.parse('[{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":false},{"name":"External","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"prodName","columnTitle":"Product Name","data":[{"name":"Siemens","selected":false},{"name":"Siemens_pod","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"feature","columnTitle":"Features","data":[{"name":"Admin","selected":false},{"name":"Dashboards","selected":false},{"name":"Dashboard Admin","selected":false},{"name":"Workbench","selected":false},{"name":"Creator","selected":false},{"name":"Rules & Alerts","selected":false},{"name":"Rule Creator","selected":false},{"name":"Explorer","selected":false},{"name":"Logvault","selected":false},{"name":"File Upload","selected":false},{"name":"Health Check","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"name","columnTitle":"Name","data":[{"name":"admin","selected":false},{"name":"role2","selected":false}],"enabled":false,"enabledCount":0}]');
    component.populateFilterData();
    expect(component.roleFilterArray).toEqual(res);
  });
  it('resetFilter', () => {
    component.roleFilterArray=JSON.parse('[{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":true},{"name":"External","selected":false}],"enabled":true,"enabledCount":1},{"columnName":"prodName","columnTitle":"Product Name","data":[{"name":"Siemens","selected":true},{"name":"Siemens_pod","selected":false}],"enabled":true,"enabledCount":1},{"columnName":"feature","columnTitle":"Features","data":[{"name":"Dashboards","selected":true},{"name":"Dashboard Admin","selected":false},{"name":"Workbench","selected":false},{"name":"Creator","selected":false},{"name":"Rules & Alerts","selected":false},{"name":"Rule Creator","selected":false},{"name":"Explorer","selected":false},{"name":"Logvault","selected":false},{"name":"File Upload","selected":false},{"name":"Health Check","selected":false}],"enabled":true,"enabledCount":1},{"columnName":"name","columnTitle":"Name","data":[{"name":"","selected":false}],"enabled":false,"enabledCount":0}]');
    component.filterEnabled=true;
    component.filterEnabledCount = 3;
    component.resetFilter();
    expect(component.filterEnabled).toBeFalsy();
    expect(component.filterEnabledCount).toEqual(0);
  });
  it('updateFilter', () => {
    let param1 = JSON.parse('{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":true},{"name":"External","selected":false}],"enabled":true,"enabledCount":0}');
    let param2 = 0;
    component.roleFilterArray=JSON.parse('[{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":true},{"name":"External","selected":false}],"enabled":true,"enabledCount":0},{"columnName":"prodName","columnTitle":"Product Name","data":[{"name":"Siemens","selected":false},{"name":"Siemens_pod","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"feature","columnTitle":"Features","data":[{"name":"Dashboards","selected":false},{"name":"Dashboard Admin","selected":false},{"name":"Workbench","selected":false},{"name":"Creator","selected":false},{"name":"Rules & Alerts","selected":false},{"name":"Rule Creator","selected":false},{"name":"Explorer","selected":false},{"name":"Logvault","selected":false},{"name":"File Upload","selected":false},{"name":"Health Check","selected":false}],"enabled":false,"enabledCount":0}]');
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role9","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Logvault","File Upload"],"prodAssigned":["Siemens","Siemens_pod"],"selected":true,"colapsed":true,"DisName":"role9","roleType":"Internal"},{"name":"siemens_siemens_podui_role10","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role10","roleType":"Internal"},{"name":"siemens_siemens_podui_extrole1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"extrole1","roleType":"External"},{"name":"siemens_siemens_podui_role4","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role4","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role7","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role7","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"},{"name":"siemens_siemens_podui_role6","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role6","roleType":"Internal"},{"name":"siemens_siemens_podui_role5","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role5","roleType":"Internal"},{"name":"siemens_siemens_podui_role8","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role8","roleType":"Internal"}]');
    let res = JSON.parse('[{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":true},{"name":"External","selected":false}],"enabled":true,"enabledCount":1},{"columnName":"prodName","columnTitle":"Product Name","data":[{"name":"Siemens","selected":false},{"name":"Siemens_pod","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"feature","columnTitle":"Features","data":[{"name":"Dashboards","selected":false},{"name":"Dashboard Admin","selected":false},{"name":"Workbench","selected":false},{"name":"Creator","selected":false},{"name":"Rules & Alerts","selected":false},{"name":"Rule Creator","selected":false},{"name":"Explorer","selected":false},{"name":"Logvault","selected":false},{"name":"File Upload","selected":false},{"name":"Health Check","selected":false}],"enabled":false,"enabledCount":0}]');
    component.updateFilter(param1,param2);
    expect(component.filterEnabled).toBeTruthy();
    expect(component.roleFilterArray).toEqual(res);
    expect(component.filterEnabledCount).toEqual(1);
  });
  it('updateFilter | Name Search enabled', () => {
    let param1 = JSON.parse('{"columnName":"name","columnTitle":"Name","data":[{"name":"role2","selected":true}],"enabled":true,"enabledCount":1}');
    let param2 = 0;
    component.roleFilterArray=JSON.parse('[{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":false},{"name":"External","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"prodName","columnTitle":"Product Name","data":[{"name":"Siemens Prodv10","selected":false},{"name":"Siemens Prod","selected":false},{"name":"Siemens Prod60","selected":false},{"name":"SIEMENS-POD","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"feature","columnTitle":"Features","data":[{"name":"Dashboards","selected":false},{"name":"Dashboard Admin","selected":false},{"name":"Workbench","selected":false},{"name":"Creator","selected":false},{"name":"Rules & Alerts","selected":false},{"name":"Rule Creator","selected":false},{"name":"Explorer","selected":false},{"name":"Logvault","selected":false},{"name":"File Upload","selected":false},{"name":"Health Check","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"name","columnTitle":"Name","data":[{"name":"role2","selected":true}],"enabled":true,"enabledCount":1}]');
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role9","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Logvault","File Upload"],"prodAssigned":["Siemens","Siemens_pod"],"selected":true,"colapsed":true,"DisName":"role9","roleType":"Internal"},{"name":"siemens_siemens_podui_role10","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role10","roleType":"Internal"},{"name":"siemens_siemens_podui_extrole1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"extrole1","roleType":"External"},{"name":"siemens_siemens_podui_role4","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role4","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role7","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role7","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"},{"name":"siemens_siemens_podui_role6","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role6","roleType":"Internal"},{"name":"siemens_siemens_podui_role5","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role5","roleType":"Internal"},{"name":"siemens_siemens_podui_role8","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role8","roleType":"Internal"}]');
    let res = JSON.parse('[{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":false},{"name":"External","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"prodName","columnTitle":"Product Name","data":[{"name":"Siemens Prodv10","selected":false},{"name":"Siemens Prod","selected":false},{"name":"Siemens Prod60","selected":false},{"name":"SIEMENS-POD","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"feature","columnTitle":"Features","data":[{"name":"Dashboards","selected":false},{"name":"Dashboard Admin","selected":false},{"name":"Workbench","selected":false},{"name":"Creator","selected":false},{"name":"Rules & Alerts","selected":false},{"name":"Rule Creator","selected":false},{"name":"Explorer","selected":false},{"name":"Logvault","selected":false},{"name":"File Upload","selected":false},{"name":"Health Check","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"name","columnTitle":"Name","data":[{"name":"role2","selected":true}],"enabled":true,"enabledCount":1}]');
    component.updateFilter(param1,param2);
    expect(component.filterEnabled).toBeTruthy();
    expect(component.roleFilterArray).toEqual(res);
    expect(component.filterEnabledCount).toEqual(1);
  });
  it('updateFilter | Name Search disabled', () => {
    let param1 = JSON.parse('{"columnName":"name","columnTitle":"Name","data":[{"name":"admin","selected":true}],"enabled":true,"enabledCount":1}');
    let param2 = 0;
    component.roleFilterArray=JSON.parse('[{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":false},{"name":"External","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"prodName","columnTitle":"Product Name","data":[{"name":"Siemens Prodv10","selected":false},{"name":"Siemens Prod","selected":false},{"name":"Siemens Prod60","selected":false},{"name":"SIEMENS-POD","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"feature","columnTitle":"Features","data":[{"name":"Dashboards","selected":false},{"name":"Dashboard Admin","selected":false},{"name":"Workbench","selected":false},{"name":"Creator","selected":false},{"name":"Rules & Alerts","selected":false},{"name":"Rule Creator","selected":false},{"name":"Explorer","selected":false},{"name":"Logvault","selected":false},{"name":"File Upload","selected":false},{"name":"Health Check","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"name","columnTitle":"Name","data":[{"name":"admin","selected":false}],"enabled":true,"enabledCount":1}]');
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role9","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Logvault","File Upload"],"prodAssigned":["Siemens","Siemens_pod"],"selected":true,"colapsed":true,"DisName":"role9","roleType":"Internal"},{"name":"siemens_siemens_podui_role10","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role10","roleType":"Internal"},{"name":"siemens_siemens_podui_extrole1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"extrole1","roleType":"External"},{"name":"siemens_siemens_podui_role4","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role4","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role7","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role7","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"},{"name":"siemens_siemens_podui_role6","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role6","roleType":"Internal"},{"name":"siemens_siemens_podui_role5","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role5","roleType":"Internal"},{"name":"siemens_siemens_podui_role8","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role8","roleType":"Internal"}]');
    let res = JSON.parse('[{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":false},{"name":"External","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"prodName","columnTitle":"Product Name","data":[{"name":"Siemens Prodv10","selected":false},{"name":"Siemens Prod","selected":false},{"name":"Siemens Prod60","selected":false},{"name":"SIEMENS-POD","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"feature","columnTitle":"Features","data":[{"name":"Dashboards","selected":false},{"name":"Dashboard Admin","selected":false},{"name":"Workbench","selected":false},{"name":"Creator","selected":false},{"name":"Rules & Alerts","selected":false},{"name":"Rule Creator","selected":false},{"name":"Explorer","selected":false},{"name":"Logvault","selected":false},{"name":"File Upload","selected":false},{"name":"Health Check","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"name","columnTitle":"Name","data":[{"name":"admin","selected":false}],"enabled":false,"enabledCount":0}]');
    component.updateFilter(param1,param2);
    expect(component.filterEnabled).toBeFalsy();
    expect(component.roleFilterArray).toEqual(res);
    expect(component.filterEnabledCount).toEqual(0);
  });
  it('selectAcrossPages', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role9","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Logvault","File Upload"],"prodAssigned":["Siemens","Siemens_pod"],"selected":true,"colapsed":true,"DisName":"role9","roleType":"Internal"},{"name":"siemens_siemens_podui_role10","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role10","roleType":"Internal"},{"name":"siemens_siemens_podui_extrole1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"extrole1","roleType":"External"},{"name":"siemens_siemens_podui_role4","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role4","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role7","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role7","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"},{"name":"siemens_siemens_podui_role6","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role6","roleType":"Internal"},{"name":"siemens_siemens_podui_role5","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role5","roleType":"Internal"},{"name":"siemens_siemens_podui_role8","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role8","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    let res = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role9","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Logvault","File Upload"],"prodAssigned":["Siemens","Siemens_pod"],"selected":true,"colapsed":true,"DisName":"role9","roleType":"Internal"},{"name":"siemens_siemens_podui_role10","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role10","roleType":"Internal"},{"name":"siemens_siemens_podui_extrole1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"extrole1","roleType":"External"},{"name":"siemens_siemens_podui_role4","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role4","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role7","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role7","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role3","roleType":"Internal"},{"name":"siemens_siemens_podui_role6","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role6","roleType":"Internal"},{"name":"siemens_siemens_podui_role5","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role5","roleType":"Internal"},{"name":"siemens_siemens_podui_role8","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role8","roleType":"Internal"}]');
    component.selectAcrossPages();
    expect(component.roleList).toEqual(res);
    expect(component.selectedCount).toEqual(11);
  });
  it('clearSelection', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role9","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Logvault","File Upload"],"prodAssigned":["Siemens","Siemens_pod"],"selected":true,"colapsed":true,"DisName":"role9","roleType":"Internal"},{"name":"siemens_siemens_podui_role10","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role10","roleType":"Internal"},{"name":"siemens_siemens_podui_extrole1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"extrole1","roleType":"External"},{"name":"siemens_siemens_podui_role4","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role4","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role7","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role7","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role3","roleType":"Internal"},{"name":"siemens_siemens_podui_role6","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role6","roleType":"Internal"},{"name":"siemens_siemens_podui_role5","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role5","roleType":"Internal"},{"name":"siemens_siemens_podui_role8","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role8","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    let res = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role9","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Logvault","File Upload"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"role9","roleType":"Internal"},{"name":"siemens_siemens_podui_role10","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role10","roleType":"Internal"},{"name":"siemens_siemens_podui_extrole1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"extrole1","roleType":"External"},{"name":"siemens_siemens_podui_role4","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role4","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role7","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role7","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"},{"name":"siemens_siemens_podui_role6","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role6","roleType":"Internal"},{"name":"siemens_siemens_podui_role5","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role5","roleType":"Internal"},{"name":"siemens_siemens_podui_role8","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role8","roleType":"Internal"}]');
    component.clearSelection();
    expect(component.roleList).toEqual(res);
    expect(component.selectedCount).toEqual(0);
  });
  it('getRoleListFiltered | Prod Filter', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role9","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Logvault","File Upload"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"role9","roleType":"Internal"},{"name":"siemens_siemens_podui_role10","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role10","roleType":"Internal"},{"name":"siemens_siemens_podui_extrole1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"extrole1","roleType":"External"},{"name":"siemens_siemens_podui_role4","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role4","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role7","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role7","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"},{"name":"siemens_siemens_podui_role6","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role6","roleType":"Internal"},{"name":"siemens_siemens_podui_role5","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role5","roleType":"Internal"},{"name":"siemens_siemens_podui_role8","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role8","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.filterEnabled = true;
    component.roleFilterArray=JSON.parse('[{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":false},{"name":"External","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"prodName","columnTitle":"Product Name","data":[{"name":"Siemens","selected":true},{"name":"Siemens_pod","selected":true}],"enabled":true,"enabledCount":2},{"columnName":"feature","columnTitle":"Features","data":[{"name":"Dashboards","selected":false},{"name":"Dashboard Admin","selected":false},{"name":"Workbench","selected":false},{"name":"Creator","selected":false},{"name":"Rules & Alerts","selected":false},{"name":"Rule Creator","selected":false},{"name":"Explorer","selected":false},{"name":"Logvault","selected":false},{"name":"File Upload","selected":false},{"name":"Health Check","selected":false}],"enabled":false,"enabledCount":0}, {"columnName":"name","columnTitle":"Name","data":[{"name":"","selected":false}],"enabled":false,"enabledCount":0}]');
    let res = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role9","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Logvault","File Upload"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"role9","roleType":"Internal"}]');
    let actRes = component.getRoleListFiltered();
    expect(actRes).toEqual(res);
  });
  it('getRoleListFiltered | Type Filter', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role9","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Logvault","File Upload"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"role9","roleType":"Internal"},{"name":"siemens_siemens_podui_role10","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role10","roleType":"Internal"},{"name":"siemens_siemens_podui_extrole1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"extrole1","roleType":"External"},{"name":"siemens_siemens_podui_role4","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role4","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role7","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role7","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"},{"name":"siemens_siemens_podui_role6","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role6","roleType":"Internal"},{"name":"siemens_siemens_podui_role5","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role5","roleType":"Internal"},{"name":"siemens_siemens_podui_role8","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role8","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.filterEnabled = true;
    component.roleFilterArray=JSON.parse('[{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":true},{"name":"External","selected":false}],"enabled":true,"enabledCount":1},{"columnName":"prodName","columnTitle":"Product Name","data":[{"name":"Siemens","selected":false},{"name":"Siemens_pod","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"feature","columnTitle":"Features","data":[{"name":"Dashboards","selected":false},{"name":"Dashboard Admin","selected":false},{"name":"Workbench","selected":false},{"name":"Creator","selected":false},{"name":"Rules & Alerts","selected":false},{"name":"Rule Creator","selected":false},{"name":"Explorer","selected":false},{"name":"Logvault","selected":false},{"name":"File Upload","selected":false},{"name":"Health Check","selected":false}],"enabled":false,"enabledCount":0}, {"columnName":"name","columnTitle":"Name","data":[{"name":"","selected":false}],"enabled":false,"enabledCount":0}]');
    let res = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role9","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Logvault","File Upload"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"role9","roleType":"Internal"},{"name":"siemens_siemens_podui_role10","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role10","roleType":"Internal"},{"name":"siemens_siemens_podui_role4","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role4","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role7","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role7","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"},{"name":"siemens_siemens_podui_role6","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role6","roleType":"Internal"},{"name":"siemens_siemens_podui_role5","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role5","roleType":"Internal"},{"name":"siemens_siemens_podui_role8","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role8","roleType":"Internal"}]');
    let actRes = component.getRoleListFiltered();
    expect(actRes).toEqual(res);
  });
  it('getRoleListFiltered | Name Filter', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_123456789012345678901234567890123456789012345678901234567890","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email","phone"],"featureData":[{"features":"Explorer,Logvault,File Upload,Health Check","featureKey":"explorer,logvault,file_upload,healthcheck","featuresDis":["Explorer","File Upload","Health Check","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Explorer","File Upload","Health Check","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"123456789012345678901234567890123456789012345678901234567890","roleType":"Internal"},{"name":"siemens_siemens_podui_admin","realm_uidomain":{"qaui":"qaui.glassbeam.com","autostage":"autostage.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com","siemens:siemens:pod":"qaui.glassbeam.com","siemens:siemens:prod":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Creator,Dashboard Admin,Admin","featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,wb_creator,dashboard_admin,admin","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false},{"features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator","featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator","featuresDis":["Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","pod"],"name":"Siemens prod60","selected":false},{"features":"Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin","featureKey":"dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,admin","featuresDis":["Admin","Dashboards","Explorer","File Upload","Logvault","Rules & Alerts","Workbench"],"mps":["siemens","siemens","prod"],"name":"Siemens prodv10","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["SIEMENS-POD","Siemens prod60","Siemens prodv10"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_anishrole1","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:pod":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","pod"],"name":"Siemens prod60","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens prod60"],"selected":false,"colapsed":true,"DisName":"anishrole1","roleType":"Internal"},{"name":"siemens_siemens_podui_asdfg","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Rules & Alerts,Logvault","featureKey":"rules_and_alerts,logvault","featuresDis":["Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Logvault","Rules & Alerts"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"asdfg","roleType":"Internal"},{"name":"siemens_siemens_podui_automation_role1020","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role1020","roleType":"Internal"},{"name":"siemens_siemens_podui_automation_role2779","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role2779","roleType":"External"},{"name":"siemens_siemens_podui_automation_role2817","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role2817","roleType":"External"},{"name":"siemens_siemens_podui_automation_role3041","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Explorer,Logvault,File Upload","featureKey":"dashboards,explorer,logvault,file_upload","featuresDis":["Dashboards","Explorer","File Upload","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Explorer","File Upload","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role3041","roleType":"Internal"},{"name":"siemens_siemens_podui_automation_role5495","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role5495","roleType":"External"},{"name":"siemens_siemens_podui_automation_role7322","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role7322","roleType":"External"},{"name":"siemens_siemens_podui_automation_role7855","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Explorer,Logvault,File Upload","featureKey":"dashboards,explorer,logvault,file_upload","featuresDis":["Dashboards","Explorer","File Upload","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Explorer","File Upload","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role7855","roleType":"Internal"},{"name":"siemens_siemens_podui_automation_role971","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role971","roleType":"External"},{"name":"siemens_siemens_podui_automation_role9915","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role9915","roleType":"External"},{"name":"siemens_siemens_podui_checking","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com","siemens:siemens:pod":"qaui.glassbeam.com","siemens:siemens:prod":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Rules & Alerts,Explorer,Logvault","featureKey":"dashboards,rules_and_alerts,explorer,logvault","featuresDis":["Dashboards","Explorer","Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false},{"features":"Dashboards,Explorer,Logvault","featureKey":"dashboards,explorer,logvault","featuresDis":["Dashboards","Explorer","Logvault"],"mps":["siemens","siemens","pod"],"name":"Siemens prod60","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","prod"],"name":"Siemens prodv10","selected":false}],"featuresAssigned":["Dashboards","Explorer","Logvault","Rules & Alerts","File Upload"],"prodAssigned":["SIEMENS-POD","Siemens prod60","Siemens prodv10"],"selected":false,"colapsed":true,"DisName":"checking","roleType":"Internal"},{"name":"siemens_siemens_podui_delete","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"delete","roleType":"Internal"},{"name":"siemens_siemens_podui_dfghj","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"dfghj","roleType":"External"},{"name":"siemens_siemens_podui_extrole","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com","siemens:siemens:prod":"qaui.glassbeam.com"},"two_auth_support":["email","phone"],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false},{"features":"Logvault,Health Check","featureKey":"logvault,healthcheck","featuresDis":["Health Check","Logvault"],"mps":["siemens","siemens","prod"],"name":"Siemens prodv10","selected":false}],"featuresAssigned":["Health Check","Logvault"],"prodAssigned":["SIEMENS-POD","Siemens prodv10"],"selected":false,"colapsed":true,"DisName":"extrole","roleType":"External"},{"name":"siemens_siemens_podui_healthchecknew","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"healthchecknew","roleType":"External"},{"name":"siemens_siemens_podui_iamtest","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"iamtest","roleType":"Internal"},{"name":"siemens_siemens_podui_iamtest1","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:pod":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","pod"],"name":"Siemens prod60","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens prod60"],"selected":false,"colapsed":true,"DisName":"iamtest1","roleType":"Internal"},{"name":"siemens_siemens_podui_iamtest2","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Dashboard Admin,Workbench,Explorer,Logvault,File Upload","featureKey":"dashboards,dashboard_admin,workbench,explorer,logvault,file_upload","featuresDis":["Dashboard Admin","Dashboards","Explorer","File Upload","Logvault","Workbench"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Explorer","File Upload","Logvault","Workbench"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"iamtest2","roleType":"Internal"},{"name":"siemens_siemens_podui_non_rc","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":"","dqold":"dquiold.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Rules & Alerts,Explorer,Logvault","featureKey":"dashboards,rules_and_alerts,explorer,logvault","featuresDis":["Dashboards","Explorer","Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Explorer","Logvault","Rules & Alerts"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"non_rc","roleType":"Internal"},{"name":"siemens_siemens_podui_otprole","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email","phone"],"featureData":[{"features":"Dashboards,Rules & Alerts,Logvault","featureKey":"dashboards,rules_and_alerts,logvault","featuresDis":["Dashboards","Logvault","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Logvault","Rules & Alerts"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"otprole","roleType":"Internal"},{"name":"siemens_siemens_podui_otprole23","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Explorer,Logvault","featureKey":"dashboards,explorer,logvault","featuresDis":["Dashboards","Explorer","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Explorer","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"otprole23","roleType":"Internal"},{"name":"siemens_siemens_podui_rc","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Dashboard Admin,Rules & Alerts,Rule Creator,Explorer,Logvault","featureKey":"dashboards,dashboard_admin,rules_and_alerts,rule_creator,explorer,logvault","featuresDis":["Dashboard Admin","Dashboards","Explorer","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Explorer","Logvault","Rule Creator","Rules & Alerts"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"rc","roleType":"Internal"},{"name":"siemens_siemens_podui_rc_wb","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Dashboards,Dashboard Admin,Workbench,Rules & Alerts,Rule Creator,Explorer,Logvault,Health Check","featureKey":"dashboards,dashboard_admin,workbench,rules_and_alerts,rule_creator,explorer,logvault,healthcheck","featuresDis":["Dashboard Admin","Dashboards","Explorer","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Explorer","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"rc_wb","roleType":"Internal"},{"name":"siemens_siemens_podui_rewrewr_test","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["File Upload","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"rewrewr_test","roleType":"Internal"},{"name":"siemens_siemens_podui_test1","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:prod":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","prod"],"name":"Siemens prodv10","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens prodv10"],"selected":false,"colapsed":true,"DisName":"test1","roleType":"Internal"},{"name":"siemens_siemens_podui_test5444","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"test5444","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.filterEnabled = true;
    component.roleFilterArray=JSON.parse('[{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":false},{"name":"External","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"prodName","columnTitle":"Product Name","data":[{"name":"SIEMENS-POD","selected":false},{"name":"Siemens prod60","selected":false},{"name":"Siemens prodv10","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"feature","columnTitle":"Features","data":[{"name":"Admin","selected":false},{"name":"Dashboards","selected":false},{"name":"Dashboard Admin","selected":false},{"name":"Workbench","selected":false},{"name":"Creator","selected":false},{"name":"Rules & Alerts","selected":false},{"name":"Rule Creator","selected":false},{"name":"Explorer","selected":false},{"name":"Logvault","selected":false},{"name":"File Upload","selected":false},{"name":"Health Check","selected":false}],"enabled":false,"enabledCount":0},{"columnName":"name","columnTitle":"Name","data":[{"name":"admin","selected":false},{"name":"automation_role2779","selected":false},{"name":"automation_role1020","selected":false},{"name":"checking","selected":false},{"name":"automation_role3041","selected":true},{"name":"automation_role7322","selected":true},{"name":"non_rc","selected":false},{"name":"otprole23","selected":true},{"name":"delete","selected":false},{"name":"rc_wb","selected":false},{"name":"iamtest2","selected":false},{"name":"test1","selected":false},{"name":"automation_role7855","selected":false},{"name":"automation_role5495","selected":false},{"name":"rewrewr_test","selected":false},{"name":"otprole","selected":false},{"name":"automation_role971","selected":false},{"name":"test5444","selected":false},{"name":"iamtest1","selected":false},{"name":"asdfg","selected":false},{"name":"iamtest","selected":false},{"name":"dfghj","selected":false},{"name":"anishrole1","selected":false},{"name":"123456789012345678901234567890123456789012345678901234567890","selected":false},{"name":"extrole","selected":false},{"name":"automation_role2817","selected":false},{"name":"healthchecknew","selected":false},{"name":"automation_role9915","selected":false},{"name":"rc","selected":false}],"enabled":true,"enabledCount":3}]');
    let res = JSON.parse('[{"name":"siemens_siemens_podui_automation_role3041","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Explorer,Logvault,File Upload","featureKey":"dashboards,explorer,logvault,file_upload","featuresDis":["Dashboards","Explorer","File Upload","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Explorer","File Upload","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role3041","roleType":"Internal"},{"name":"siemens_siemens_podui_automation_role7322","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":[],"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"automation_role7322","roleType":"External"},{"name":"siemens_siemens_podui_otprole23","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Explorer,Logvault","featureKey":"dashboards,explorer,logvault","featuresDis":["Dashboards","Explorer","Logvault"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboards","Explorer","Logvault"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"otprole23","roleType":"Internal"}]');
    let actRes = component.getRoleListFiltered();
    expect(actRes).toEqual(res);
  });
  it('getRoleListFiltered | All Filter with search Filter', () => {
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role9","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Logvault,File Upload","featureKey":"logvault,file_upload","featuresDis":["File Upload","Logvault"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"featuresAssigned":["Logvault","File Upload"],"prodAssigned":["Siemens","Siemens_pod"],"selected":false,"colapsed":true,"DisName":"role9","roleType":"Internal"},{"name":"siemens_siemens_podui_role10","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role10","roleType":"Internal"},{"name":"siemens_siemens_podui_extrole1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"extrole1","roleType":"External"},{"name":"siemens_siemens_podui_role4","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role4","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"},{"name":"siemens_siemens_podui_role1","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role1","roleType":"Internal"},{"name":"siemens_siemens_podui_role7","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role7","roleType":"Internal"},{"name":"siemens_siemens_podui_role3","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Logvault","featureKey":"dashboards,logvault","featuresDis":["Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role3","roleType":"Internal"},{"name":"siemens_siemens_podui_role6","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role6","roleType":"Internal"},{"name":"siemens_siemens_podui_role5","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role5","roleType":"Internal"},{"name":"siemens_siemens_podui_role8","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role8","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    component.filterEnabled = true;
    component.searchText = "role2";
    component.roleFilterArray=JSON.parse('[{"columnName":"roleType","columnTitle":"Role Type","data":[{"name":"Internal","selected":true},{"name":"External","selected":false}],"enabled":true,"enabledCount":1},{"columnName":"prodName","columnTitle":"Product Name","data":[{"name":"Siemens","selected":true},{"name":"Siemens_pod","selected":false}],"enabled":true,"enabledCount":1},{"columnName":"feature","columnTitle":"Features","data":[{"name":"Dashboards","selected":true},{"name":"Dashboard Admin","selected":true},{"name":"Workbench","selected":false},{"name":"Creator","selected":false},{"name":"Rules & Alerts","selected":false},{"name":"Rule Creator","selected":false},{"name":"Explorer","selected":false},{"name":"Logvault","selected":false},{"name":"File Upload","selected":false},{"name":"Health Check","selected":false}],"enabled":true,"enabledCount":2}, {"columnName":"name","columnTitle":"Name","data":[{"name":"","selected":false}],"enabled":false,"enabledCount":0}]');
    let res = JSON.parse('[{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Dashboards,Dashboard Admin,Logvault","featureKey":"dashboards,dashboard_admin,logvault","featuresDis":["Dashboard Admin","Dashboards","Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"}]');
    let actRes = component.getRoleListFiltered();
    expect(actRes).toEqual(res);
  });
  it('exportCSVFile', () => {
    let service = TestBed.get(AdminService);
    spyOn(service, 'downloadCSVFile').and.returnValue(true);
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"gbstudio_spl":"studiodemo.glassbeam.com","gbstudio_apps":"appsstaging.glassbeam.com","qaui":"qaui.glassbeam.com","autostage":"autostage.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podv10":"qaui.glassbeam.com","siemens:siemens:pod":"dquiold.glassbeam.com","default:default:default":"appsstaging.glassbeam.com","siemens:siemens:pod60":"dquinew.glassbeam.com","siemens:siemens:podui":"qaui.glassbeam.com"},"featureData":[{"features":"Admin,Explorer,Logvault,Health Check","featureKey":"admin,explorer,logvault,healthcheck","featuresDis":["Admin","Explorer","Health Check","Logvault"],"mps":["siemens","siemens","podv10"],"name":"Siemens Prodv10","selected":false},{"features":"Admin,Explorer,Logvault","featureKey":"admin,explorer,logvault","featuresDis":["Admin","Explorer","Logvault"],"mps":["siemens","siemens","pod"],"name":"Siemens Prod","selected":false},{"features":"Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Admin,Health Check","featureKey":"dashboards,file_upload,rules_and_alerts,explorer,logvault,admin,healthcheck","featuresDis":["Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens Prod60","selected":false},{"features":"Admin,Dashboards,File Upload,Rules & Alerts, explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts, explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":[" explorer","Admin","Creator","Dashboard Admin","Dashboards","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Admin","Explorer","Health Check","Logvault","Workbench","Dashboards","File Upload","Rules & Alerts"," explorer","Creator","Dashboard Admin","Rule Creator"],"prodAssigned":["Siemens Prodv10","Siemens Prod","-","Siemens Prod60","SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_yo","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"featureData":[{"features":"Dashboards,Workbench,Logvault,Dashboard Admin,Creator","featureKey":"dashboards,workbench,logvault,dashboard_admin,wb_creator","featuresDis":["Creator","Dashboard Admin","Dashboards","Logvault","Workbench"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Creator","Dashboard Admin","Dashboards","Logvault","Workbench"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"yo","roleType":"Internal"},{"name":"siemens_siemens_podui_externalrole1","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"featureData":[{"features":"Health Check","featureKey":"healthcheck","featuresDis":["Health Check"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Health Check"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"externalrole1","roleType":"External"},{"name":"siemens_siemens_podui_rc_wb","realm_uidomain":{"qaui":"qaui.glassbeam.com","siemens_stage":""},"mps_uidomain":{"siemens:siemens:podui":"qaui.glassbeam.com"},"featureData":[{"features":"Dashboards,Explorer,Rules & Alerts,Logvault,Rule Creator,Dashboard Admin,File Upload","featureKey":"dashboards,explorer,rules_and_alerts,logvault,rule_creator,dashboard_admin,file_upload","featuresDis":["Dashboard Admin","Dashboards","Explorer","File Upload","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Explorer","File Upload","Logvault","Rule Creator","Rules & Alerts"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"rc_wb","roleType":"Internal"},{"name":"siemens_siemens_podv10_role2","realm_uidomain":{"qaui":"qaui.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podv10":"qaui.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podv10"],"name":"Siemens Prodv10","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens Prodv10"],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"}]');
    let res = [{name:"admin","Role Type":"Internal","Product & Features":"Siemens Prodv10 : Admin,Explorer,Logvault,Health Check\nSiemens Prod : Admin,Explorer,Logvault\nSiemens Prod60 : Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Admin,Health Check\nSIEMENS-POD : Admin,Dashboards,File Upload,Rules & Alerts, explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator\n"},{name:"yo","Role Type":"Internal","Product & Features":"SIEMENS-POD : Dashboards,Workbench,Logvault,Dashboard Admin,Creator\n"},{name:"externalrole1","Role Type":"External","Product & Features":"SIEMENS-POD : Health Check\n"},{name:"rc_wb","Role Type":"Internal","Product & Features":"SIEMENS-POD : Dashboards,Explorer,Rules & Alerts,Logvault,Rule Creator,Dashboard Admin,File Upload\n"},{name:"role2","Role Type":"Internal","Product & Features":"Siemens Prodv10 : Logvault\n"}];
    component.exportCSVFile();
    expect(component.csvData).toEqual(res);
  });
  it('getLicensingInfo | For Viewer', () => {
    component.selectedFormFeatureData = JSON.parse('[{"name":"Siemens prod60","features":"Creator,Dashboard Admin,File Upload,Rules & Alerts,Admin,Rule Creator,Logvault,Workbench,Dashboards,Explorer","mps":["siemens","siemens","pod"],"selected":true,"expand":false,"featureKey":"wb_creator,dashboard_admin,file_upload,rules_and_alerts,admin,rule_creator,logvault,workbench,dashboards,explorer","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":true,"category":"others"}]},{"name":"SIEMENS-POD","features":"Creator,Rules & Alerts,Dashboard Admin,Rule Creator,File Upload,Logvault,Workbench,Health Check,Dashboards,Explorer,Admin","mps":["siemens","siemens","podui"],"selected":true,"expand":true,"featureKey":"wb_creator,rules_and_alerts,dashboard_admin,rule_creator,file_upload,logvault,workbench,healthcheck,dashboards,explorer,admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}]');
    let res = {msg:addRoleDashboardLicenseError.dashboards,flag:true}
    let actRes = component.getLicensingInfo();
    // expect(actRes).toEqual(res);
  });
  it('getLicensingInfo | For Explorer', () => {
    component.selectedFormFeatureData = JSON.parse('[{"name":"Siemens prod60","features":"Creator,Dashboard Admin,File Upload,Rules & Alerts,Admin,Rule Creator,Logvault,Workbench,Dashboards,Explorer","mps":["siemens","siemens","pod"],"selected":true,"expand":false,"featureKey":"wb_creator,dashboard_admin,file_upload,rules_and_alerts,admin,rule_creator,logvault,workbench,dashboards,explorer","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":true,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":true,"category":"others"}]},{"name":"SIEMENS-POD","features":"Creator,Rules & Alerts,Dashboard Admin,Rule Creator,File Upload,Logvault,Workbench,Health Check,Dashboards,Explorer,Admin","mps":["siemens","siemens","podui"],"selected":true,"expand":true,"featureKey":"wb_creator,rules_and_alerts,dashboard_admin,rule_creator,file_upload,logvault,workbench,healthcheck,dashboards,explorer,admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}]');
    let res = {msg:addRoleDashboardLicenseError.workbench,flag:true}
    let actRes = component.getLicensingInfo();
    expect(actRes).toEqual(res);
  });
  it('getLicensingInfo | For creator', () => {
    component.selectedFormFeatureData = JSON.parse('[{"name":"Siemens prod60","features":"Creator,Dashboard Admin,File Upload,Rules & Alerts,Admin,Rule Creator,Logvault,Workbench,Dashboards,Explorer","mps":["siemens","siemens","pod"],"selected":true,"expand":false,"featureKey":"wb_creator,dashboard_admin,file_upload,rules_and_alerts,admin,rule_creator,logvault,workbench,dashboards,explorer","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":true,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":true,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":true,"category":"others"}]},{"name":"SIEMENS-POD","features":"Creator,Rules & Alerts,Dashboard Admin,Rule Creator,File Upload,Logvault,Workbench,Health Check,Dashboards,Explorer,Admin","mps":["siemens","siemens","podui"],"selected":true,"expand":true,"featureKey":"wb_creator,rules_and_alerts,dashboard_admin,rule_creator,file_upload,logvault,workbench,healthcheck,dashboards,explorer,admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}]');
    let res = {msg:addRoleDashboardLicenseError.creator,flag:true}
    let actRes = component.getLicensingInfo();
    expect(actRes).toEqual(res);
  });
  it('getLicensingInfo | Edit Role Mode On', () => {
    component.editRoleMode = true;
    component.editRoleItem = JSON.parse('{"name":"siemens_siemens_podui_auto_rc","realm_uidomain":{},"mps_uidomain":{"siemens/siemens/podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Rule Creator,Logvault,Dashboard Admin,Rules & Alerts,Explorer","featureKey":"dashboards,rule_creator,logvault,dashboard_admin,rules_and_alerts,explorer","featuresDis":["Dashboard Admin","Dashboards","Explorer","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false,"isCreator":false,"isViewer":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Explorer","Logvault","Rule Creator","Rules & Alerts"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"auto_rc","roleType":"Internal"}');
    component.selectedFormFeatureData = JSON.parse('[{"name":"SIEMENS-POD","features":"Creator,Rules & Alerts,Dashboard Admin,Rule Creator,File Upload,Logvault,Workbench,Health Check,Dashboards,Explorer,Admin","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"wb_creator,rules_and_alerts,dashboard_admin,rule_creator,file_upload,logvault,workbench,healthcheck,dashboards,explorer,admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":true,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":true,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":true,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":true,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}]');
    let res = {msg:addRoleDashboardLicenseError.dashboards,flag:true}
    let actRes = component.getLicensingInfo();
    // expect(actRes).toEqual(res);
  });
  it('checkFeatureDependancy', () => {
    let param1 = JSON.parse('{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"}');
    let param2 = JSON.parse('{"name":"Siemens podv10","features":"File Upload,Rules & Alerts,Creator,Dashboard Admin,Rule Creator,Explorer,Admin,Health Check,Logvault,Workbench,Dashboards","mps":["siemens","siemens","podv10"],"selected":true,"expand":false,"featureKey":"file_upload,rules_and_alerts,wb_creator,dashboard_admin,rule_creator,explorer,admin,healthcheck,logvault,workbench,dashboards","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":true,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":true,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":true,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    let res = JSON.parse('{"name":"Siemens podv10","features":"File Upload,Rules & Alerts,Creator,Dashboard Admin,Rule Creator,Explorer,Admin,Health Check,Logvault,Workbench,Dashboards","mps":["siemens","siemens","podv10"],"selected":true,"expand":false,"featureKey":"file_upload,rules_and_alerts,wb_creator,dashboard_admin,rule_creator,explorer,admin,healthcheck,logvault,workbench,dashboards","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}');
    component.checkFeatureDependancy(param1, param2);
    expect(res).toEqual(param2);
  });
  // it('closeRoleModal', () => {
  //   let modalservice = TestBed.get(NgbModal);
  //   component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","two_auth_support":["email"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]');
  //   component.adminRole = component.roleList[0];
  //   component.populateFormFeatureData();
  //   let roleParam = JSON.parse('{"name":"siemens_siemens_podui_role10","two_auth_support":["email"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault"],"prodAssigned":["Siemens"],"selected":false,"colapsed":true,"DisName":"role10","roleType":"Internal"}');
  //   let prodParam = JSON.parse('{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}');
  //   component.openModal('addeditrole',roleFormMode.edit,roleParam as any,prodParam as any);
  //   component.addEditRoleForm.markAsTouched();
  //   component.addEditRoleForm.markAsDirty();
  //   component.closeRoleModal();
  //   expect(modalservice._modalStack._modalRefs[0]._contentRef.componentRef.instance.msg).toEqual(null);
  //   // expect(modalservice._modalStack._modalRefs[0]._contentRef.componentRef.instance.msg).toEqual(changeAlert);
  // });

  it('addRoleSubmit | dashboard licenses', () =>{
    let service = TestBed.get(AdminService);
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,file_upload,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"},{"name":"siemens_siemens_podui_role2","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault","featureKey":"logvault","featuresDis":["Logvault"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"selected":false,"colapsed":true,"DisName":"role2","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    service.roleList = component.roleList;
    component.RoleFormReset();
    component.populateFormFeatureData();
    component.selectedFormFeatureData = JSON.parse('[{"name":"SIEMENS-POD","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator,Creator,Dashboard Admin","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator,wb_creator,dashboard_admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}]');
    component.editRoleMode = true;
    component.editRoleItem = JSON.parse('{"name":"siemens_siemens_podui_admin","realm_uidomain":{},"mps_uidomain":{"siemens/siemens/podui":"qaui.glassbeam.com"},"two_auth_support":["email"],"featureData":[{"features":"Dashboards,Rule Creator,Logvault,Dashboard Admin,Rules & Alerts,Explorer","featureKey":"dashboards,rule_creator,logvault,dashboard_admin,rules_and_alerts,explorer","featuresDis":["Dashboard Admin","Dashboards","Explorer","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false,"isCreator":false,"isViewer":false}],"featuresAssigned":["Dashboard Admin","Dashboards","Explorer","Logvault","Rule Creator","Rules & Alerts"],"prodAssigned":["SIEMENS-POD"],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}');
    service.licensesData = JSON.parse('{"maxUsers":5,"maxWBLicenses":3,"maxCreatorLicenses":3,"totalUsers":5,"workbenchLicensedUsed":1,"creatorLicensesUsed":1}');
    component.isviewercust = true;
    component.addRoleSubmit();
    expect(component.licenseError).toBeFalsy();
  })

  it('addRoleSubmit | add product', () =>{
    let service = TestBed.get(AdminService);
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    service.roleList = component.roleList;
    component.addProdMode = true;
    component.addProdRoleItem = JSON.parse('{"name":"siemens_siemens_podui_role10","two_auth_support":["email"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault,Dashboards","featureKey":"logvault, dashboards","featuresDis":["Logvault, Dashboards"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false}],"featuresAssigned":["Logvault", "Dashboards"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role10","roleType":"Internal"}');
    component.RoleFormReset();
    component.populateFormFeatureData();
    component.isviewercust = true;
    component.addRoleSubmit();
    expect(component.roleLicensingErorrMsg).toBeFalsy();
  })

  it('addRoleSubmit | add product', () =>{
    let service = TestBed.get(AdminService);
    component.roleList = JSON.parse('[{"name":"siemens_siemens_podui_admin","realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com","siemens:siemens:pod60":"dev.glassbeam.com"},"featureData":[{"features":"Admin,Dashboards,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Rule Creator,Health Check,Dashboard Admin,Creator","featureKey":"admin,dashboards,rules_and_alerts,explorer,logvault,workbench,rule_creator,healthcheck,dashboard_admin,wb_creator","featuresDis":["Admin","Creator","Dashboard Admin","Dashboards","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts","Workbench"],"mps":["siemens","siemens","podui"],"name":"Siemens","selected":false},{"features":"Admin,File Upload,Rules & Alerts,Explorer,Logvault,Rule Creator,Health Check","featureKey":"admin,file_upload,rules_and_alerts,explorer,logvault,rule_creator,healthcheck","featuresDis":["Admin","Explorer","File Upload","Health Check","Logvault","Rule Creator","Rules & Alerts"],"mps":["siemens","siemens","pod60"],"name":"Siemens_pod","selected":false}],"selected":false,"colapsed":true,"DisName":"admin","roleType":"Internal"}]');
    component.adminRole = component.roleList[0];
    service.roleList = component.roleList;
    component.addProdMode = true;
    component.availableFeatureData = JSON.parse('[{"name":"SIEMENS-POD","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator,Creator,Dashboard Admin","mps":["siemens","siemens","podui"],"selected":true,"expand":false,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator,wb_creator,dashboard_admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":false,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":false,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]},{"name":"Siemens prod60","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin,Rule Creator","mps":["siemens","siemens","pod"],"selected":false,"expand":true,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin,rule_creator","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]},{"name":"Siemens prodv10","features":"Dashboards,Health Check,File Upload,Rules & Alerts,Explorer,Logvault,Workbench,Admin","mps":["siemens","siemens","prod"],"selected":false,"expand":true,"featureKey":"dashboards,healthcheck,file_upload,rules_and_alerts,explorer,logvault,workbench,admin","featureDisplay":[{"name":"Dashboards","value":"dashboards","checked":false,"disabled":false,"category":"dashboards"},{"name":"Dashboard Admin","value":"dashboard_admin","checked":false,"disabled":true,"category":"dashboards"},{"name":"Workbench","value":"workbench","checked":false,"disabled":false,"category":"dashboards"},{"name":"Creator","value":"wb_creator","checked":false,"disabled":true,"category":"dashboards"},{"name":"Rules & Alerts","value":"rules_and_alerts","checked":false,"disabled":false,"category":"rules_and_alerts"},{"name":"Rule Creator","value":"rule_creator","checked":false,"disabled":true,"category":"rules_and_alerts"},{"name":"Explorer","value":"explorer","checked":false,"disabled":false,"category":"others"},{"name":"Logvault","value":"logvault","checked":true,"disabled":false,"category":"others"},{"name":"File Upload","value":"file_upload","checked":false,"disabled":false,"category":"others"},{"name":"Health Check","value":"healthcheck","checked":false,"disabled":false,"category":"others"}]}]');
    component.addProdRoleItem = JSON.parse('{"name":"siemens_siemens_podui_role10","two_auth_support":["email"],"realm_uidomain":{"prod":"dev.glassbeam.com"},"mps_uidomain":{"siemens:siemens:podui":"dev.glassbeam.com"},"featureData":[{"features":"Logvault,Dashboards","featureKey":"logvault, dashboards","featuresDis":["Logvault, Dashboards"],"mps":["siemens","siemens","podui"],"name":"SIEMENS-POD","selected":false}],"featuresAssigned":["Logvault", "Dashboards"],"prodAssigned":["Siemens"],"selected":true,"colapsed":true,"DisName":"role10","roleType":"Internal"}');
    component.RoleFormReset();
    component.populateFormFeatureData();
    component.addRoleSubmit();
    expect(component.selectedFormFeatureData.length).toBe(0);
  })
});
