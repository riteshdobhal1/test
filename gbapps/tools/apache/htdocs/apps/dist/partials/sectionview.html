<div ng-controller="DefaultFilterCtrl as defaultFilterCtrl"><nav class="gb_view navbar-static-top" role="navigation"><div class="container-fluid contaner padding-0"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand padding-0" href="#"></a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav"><li style="display: none;"><div class="btn-group gb-select"><select title="End customer" class="form-control" ng-model="defaultFilterCtrl.info.defaultEndCust" ng-options="ec.ec_name for ec in defaultFilterCtrl.defaultFilters | orderBy:'ec_name'" ng-change="defaultFilterCtrl.changeEndCust()"></select></div></li><li ng-controller="SectionsCtrl as sectionCtrl"><div class="btn-group"><button title="Select Sections" class="btn btn-xs dropdown-toggle gb-btn-nav-big" data-toggle="dropdown" type="button"><span class="pull-left">Select Sections</span><span class="caret pull-right gb-section-select-btn"></span></button><div class="dropdown-menu dropdown-menu-form gb-apps-sections-popup right-3" role="menu"><div class="sections-popup-search-cntr" ng-click="$event.stopPropagation();"><input type="text" placeholder="Search sections" class="input-style3 gb-search-box margin-3" ng-model="sectionCtrl.search.label"></div><div class="sections-popup-body loading" ng-show="sectionCtrl.getSectionsLoading()" ng-click="$event.stopPropagation();"><div class="page-loader-body"><div class="rect rect1"></div><div class="rect rect2"></div><div class="rect rect3"></div><div class="rect rect4"></div><div class="rect rect5"></div></div></div><div class="sections-popup-body" ng-hide="sectionCtrl.getSectionsLoading()" ng-click="$event.stopPropagation();"><div ng-if="(sectionCtrl.getSections() | filter:sectionCtrl.search).length == 0"><span class="no-section-msg">No section found</span></div><div class="gb-sections-item" ng-repeat="section in sectionCtrl.getSections() | filter:sectionCtrl.search track by $index" ng-class="{true:'gb-sections-item-selected', false:''}[section.default]"><label><input type="checkbox" ng-checked="section.default" ng-model="section.default"> <span title="{{section.label}}">{{section.label | cut:true:32:'...'}}</span></label></div></div><div class="sections-popup-footer"><button class="gb-primary-btn gb-modal-btn-sm" ng-click="sectionCtrl.done()">Done</button> <button class="gb-secondary-btn gb-modal-btn-sm" ng-click="sectionCtrl.cancel()">Cancel</button></div></div></div></li><li ng-if="defaultFilterCtrl.showSysid2DD()"><div class="btn-group gb-select"><button class="btn btn-xs dropdown-toggle gb-btn-nav-big" title="{{defaultFilterCtrl.getSysId2Tooltip()}}" type="button" data-toggle="dropdown"><span class="pull-left gb-btn-nav-big-title padding-top-btm-3 text-align-left" ng-if="defaultFilterCtrl.getSysId2()">{{defaultFilterCtrl.getSysId2()}}</span> <span class="pull-left gb-btn-nav-big-title padding-top-btm-3 text-align-left" ng-if="!defaultFilterCtrl.getSysId2()">&nbsp; Select</span><span class="caret pull-right"></span></button><div class="dropdown-menu dropdown-menu-right right-minus-365 width-553" role="menu"><div class="right-inner-addon" ng-click="$event.stopPropagation();"><i class="icon-search"></i> <input type="text" ng-model="defaultFilterCtrl.subSysfilter" class="form-control gb-explorer-filter-search-box font-size-10 gb-apps-sysid-searchbox" placeholder="Search {{defaultFilterCtrl.getSysId2Tooltip()}}"></div><ul class="view-list-dropdown-menu overflow-200-auto border-0"><li ng-repeat="sid in defaultFilterCtrl.getSysId2List() | filter: defaultFilterCtrl.subSysfilter | limitTo: defaultFilterCtrl.info.sysIdLimit track by $index" class="gb-apps-sys-id border-bottom-f8f8f8" ng-class="{'gb-apps-sys-id-selected': !!sid.selected}" ng-click="defaultFilterCtrl.changeSubSysId(sid);" title="{{sid}}">{{sid | cut:true:40:'...'}}</li></ul><ul class="view-list-dropdown-menu border-0" ng-show="!(defaultFilterCtrl.info.sid2 | filter: defaultFilterCtrl.subSysfilter| limitTo: defaultFilterCtrl.info.sysIdLimit).length"><li class="gb-apps-no-record border-0">No record found</li></ul></div></div></li></ul><ul class="nav navbar-nav navbar-right gb-nav-item"><li ng-controller="SectionsCtrl as sectionCtrl"><span class="icon-file-pdf gb-icon gb-newtab-section-icon" ng-click="sectionCtrl.exportAllPDF()" title="Export as PDF"></span></li><li class="margin-right-12"><span class="icon-disk gb-icon gb-search-icon" ng-click="defaultFilterCtrl.showModal()" title="Save view"></span></li><li><div class="btn-group" id="sectionview-select-view-div" ng-controller="ShowSavedFilters as showSavedFilterCtrl"><button title="{{showSavedFilterCtrl.getCurrentViewName()}}" class="btn btn-xs gb-btn-nav-big" data-toggle="dropdown" ng-click="showSavedFilterCtrl.loadSavedViews()"><span class="pull-left">{{showSavedFilterCtrl.getCurrentViewName() | cut:true:17:'...'}}</span><span class="caret pull-right gb-section-select-btn"></span></button><div class="dropdown-menu dropdown-menu-form dropdown-menu-right gb-explorer-saved-filter-dropdown right-3" role="menu" ng-click="$event.stopPropagation();"><div class="panel panel-default gb-explorer-panel"><div class="panel-heading gb-explorer-saved-filter-heading-container"><span class="panel-title gb-explorer-saved-filter-heading">Saved Section Views</span></div><div class="panel-body"><div class="row-fluid col-sm-12 gb-explorer-filter-type-div"><div class="pull-left"><button ng-click="showSavedFilterCtrl.filterBtn = 'all'" ng-class="{'active' : showSavedFilterCtrl.filterBtn == 'all'}" class="btn btn-classic gb-explorer-filter-selection-button gb-apps-filter-selection-button">All Views</button> <button ng-click="showSavedFilterCtrl.filterBtn = 'my'" ng-class="{'active' : showSavedFilterCtrl.filterBtn == 'my'}" class="btn btn-classic gb-explorer-filter-selection-button gb-apps-filter-selection-button">My Views</button> <button ng-click="showSavedFilterCtrl.filterBtn = 'others'" ng-class="{'active' : showSavedFilterCtrl.filterBtn == 'others'}" class="btn btn-classic gb-explorer-filter-selection-button gb-apps-filter-selection-button">Other's Views</button></div><div class="right-inner-addon pull-right"><i class="icon-search"></i> <input type="text" placeholder="Search" ng-model="showSavedFilterCtrl.inlineSearch.view_name" class="form-control gb-explorer-filter-search-box"></div></div><div ng-class="{'hidden':(showSavedFilterCtrl.views.length > 0 || showSavedFilterCtrl.dataNotFound)}" class="col-sm-12 loading"><div class="page-loader-body"><div class="rect rect1"></div><div class="rect rect2"></div><div class="rect rect3"></div><div class="rect rect4"></div><div class="rect rect5"></div></div></div><div ng-class="{'hidden': !showSavedFilterCtrl.dataNotFound}" class="col-sm-12 gb-info gb-explorer-info"><span>No record found.</span></div><div ng-show="!showSavedFilterCtrl.dataNotFound && showSavedFilterCtrl.filterBtn == 'my' && (showSavedFilterCtrl.views | filter: showSavedFilterCtrl.filterByScope| filter: showSavedFilterCtrl.inlineSearch).length  == 0" class="col-sm-12 gb-info gb-explorer-info"><span>No record found.</span></div><div ng-show="!showSavedFilterCtrl.dataNotFound && showSavedFilterCtrl.filterBtn == 'others' && (showSavedFilterCtrl.views | filter: showSavedFilterCtrl.filterByScope| filter: showSavedFilterCtrl.inlineSearch).length  == 0" class="col-sm-12 gb-info gb-explorer-info"><span>No record found.</span></div><div ng-show="!showSavedFilterCtrl.dataNotFound && !showSavedFilterCtrl.savedViewsLoading && showSavedFilterCtrl.filterBtn == 'all' && (showSavedFilterCtrl.views | filter: showSavedFilterCtrl.filterByScope| filter: showSavedFilterCtrl.inlineSearch).length  == 0" class="col-sm-12 gb-info gb-explorer-info"><span>No record found.</span></div><div class="col-sm-12 gb-panel-contents"><table class="table table-hover table-condensed"><tbody><tr ng-repeat="view in showSavedFilterCtrl.views | filter: showSavedFilterCtrl.filterByScope| filter: showSavedFilterCtrl.inlineSearch | orderBy:'view_name' track by $index"><td width="20px" class="gb-panel-content-serial"><b>{{$index + 1}}</b></td><td ng-click="showSavedFilterCtrl.loadView(view)" class="gb-link-normal"><b class="pull-left">{{view.view_name}}</b><br><div class="gb-word-wrap">{{((view.desc|uppercase)=="NA" || (view.desc == "undefined"))?"No description provided for this View.": view.desc | gbunescape}}<br><span class="gb-created-by">Created by: {{view.created_by}}</span></div></td><td width="35px" class="gb-panel-content-actions" ng-class="{'gb-explorer-set-as-default-selected': view.default}"><a href="#" sly-show="view.created_by == showSavedFilterCtrl.getLoggedInUserName()" title="Set as default view" class="gb-filter-options-icon" ng-click="showSavedFilterCtrl.setDefaultView(view, $event)"><span class="icon-reply-all"></span></a></td><td width="40px" class="gb-panel-content-actions"><a href="#" title="Delete view" class="gb-filter-options-icon" sly-show="view.created_by == showSavedFilterCtrl.getLoggedInUserName()" ng-click="showSavedFilterCtrl.deleteView(view, $event)"><span class="icon-remove2"></span></a></td><td width="35px" class="gb-panel-content-actions"><a href="#" class="gb-filter-options-icon" ng-init="showSavedFilterCtrl.accessType=view.public?'Public':'Private'" ng-attr-title="Saved section view is {{showSavedFilterCtrl.accessType}}. Click to make {{showSavedFilterCtrl.accessType == 'Public'?'Private':'Public'}}" sly-show="view.created_by == showSavedFilterCtrl.getLoggedInUserName()" ng-click="showSavedFilterCtrl.setAccessibility(view, $event)"><span ng-class="{'icon-lock2': !view.public, 'icon-unlocked': view.public}"></span></a></td></tr></tbody></table></div></div></div></div></div></li><li><a ng-href="{{defaultFilterCtrl.getKbLink()}}" sly-show="defaultFilterCtrl.getKbLink()" target="_blank" class="pull-right gb-toolbar-icon-link" title="{{defaultFilterCtrl.getKbLink()}}"><span class="icon-info gb-icon"></span></a></li><li><span class="icon-loop2 gb-icon gb-search-icon" sly-show="defaultFilterCtrl.getSelectedSections().length" ng-click="defaultFilterCtrl.resetSections()" title="Clear selection of sections"></span></li></ul></div></div></nav></div><div class="container-fluid section-view-div iviewer-apps-iframe-full" ng-controller="SectionsCtrl as sectionCtrl"><div ng-hide="sectionCtrl.getSectionsLoading()"><div class="gb-msg-center" ng-hide="(sectionCtrl.getSections() | filter : sectionCtrl.select).length>0" align="center"><span class="msg">{{sectionCtrl.getValue('select_section')}}</span></div></div><div class="page-loader-white-gb gb-loader-instance-viewer" ng-show="sectionCtrl.getSectionsLoading()"><div class="page-loader-body"><div class="rect rect1"></div><div class="rect rect2"></div><div class="rect rect3"></div><div class="rect rect4"></div><div class="rect rect5"></div></div></div><div ng-repeat="section in f_sections = (sectionCtrl.getSections() | filter : sectionCtrl.select) track by $index" class="sections-data-{{$index}}"><div class="row gb-sub-header" ng-init="section.showlog=false"><span class="grid-transpose-icon pull-left" ng-class="{'img-90' : section.isTranspose}">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <label class="gb-link-normal gb-label-color-2 pull-left" ng-click="section.visible=!section.visible" title="Click to toggle the section">{{section.label}}</label><div class="btn-group gb-section-setting-dd" style="position: absolute; right: 10px"><span class="glyphicon glyphicon-align-justify gb-icon-header" data-toggle="dropdown" title="Manage section"></span><ul class="dropdown-menu dropdown-menu-right gb-dropdown-settings" role="menu"><li class="dropdown-submenu-left" ng-if="section.display_data.length"><a>Show/Hide columns</a><ul class="dropdown-menu gb-dropdown-settings" role="menu" ng-click="sectionCtrl.stopFilter($event)"><li><label><input type="checkbox" ng-change="sectionCtrl.toggleAll(section)" ng-model="section.meta['shownAll']"> Show All</label></li><li><ul class="gb-filter-checkbox-group"><li ng-repeat="column in section.columns track by $index"><label><input type="checkbox" ng-model="column.selected" ng-change="sectionCtrl.changeShownAll(section)"> <span>{{section.columnsMap[column.title].length>18?section.columnsMap[column.title].substring(0, 15)+"...": section.columnsMap[column.title]}}</span></label></li></ul></li></ul></li><li class="dropdown-submenu-left disabled" ng-if="!section.display_data.length"><a>Show/Hide columns</a></li><li ng-click="$event.stopPropagation();"><table class="gb-change-pagesize-cnt"><tr><td>Show</td><td><button type="button" class="btn gb-menu-btn-sm" ng-disabled="section.count <= 10" ng-click="sectionCtrl.decreasePageSize(section)">-</button></td><td><span class="form-control gb-dd-input">{{section.count}}</span></td><td><button type="button" class="btn gb-menu-btn-sm" ng-disabled="(section.count >= 100) || (section.tot_count <= section.count) || (section.display_data.length < section.count)" ng-click="sectionCtrl.increasePageSize(section)">+</button></td></tr></table></li><li ng-if="section.display_data.length"><a href="#" ng-click="sectionCtrl.toggleShowlog(section)">{{section.showlog?"Hide ":"Show "}} Log</a></li><li ng-if="!section.display_data.length" class="disabled"><a href="#">{{section.showlog?"Hide ":"Show "}} Log</a></li><li ng-if="section.display_data.length"><a href="#" export-xls export-type="sectionview" export-info="sectionCtrl.info" export-section="section"><table style="width: 100%"><tr><td>Export</td><td style="text-align: right"><span class="glyphicon glyphicon-file pull-right gb-icon-big"></span></td></tr></table></a></li><li ng-if="!section.display_data.length" class="disabled"><a href="#"><table style="width: 100%"><tr><td>Export</td><td style="text-align: right"><span class="glyphicon glyphicon-file pull-right gb-icon-big"></span></td></tr></table></a></li><li ng-if="section.display_data.length"><a href="#" ng-click="sectionCtrl.doTranspose(section)">Transpose</a></li><li ng-if="!section.display_data.length" class="disabled"><a href="#">Transpose</a></li><li><a href="#" ng-click="section.default=false;section.selected=false;sectionCtrl.removeSection();">Remove Section</a></li></ul></div><span class="glyphicon glyphicon-refresh pull-right gb-icon-header margin-right-50" data-toggle="dropdown" sly-show="sectionCtrl.hasFilter(section) || !!section.info.sorting" ng-click="sectionCtrl.resetFilter(section)" title="Clear filter(s)"></span></div><div class="row gb-logDetails-section" ng-hide="!(section.showlog && section.visible)"><div class="gb-header-style-1">{{section.label}}</div><div ng-show="section.r_loading" class="gb-data-loading-left">Loading...</div><div ng-bind-html="sectionCtrl.renderHtml(section.rawdata)"></div><a href="#" ng-click="sectionCtrl.addSectionInstance(section)">Show section</a></div><div ng-show="section.no_cols">{{sectionCtrl.getValue('no_cols')}}</div><div ng-show="section.visible && !section.no_cols"><div ng-class="{'flip-scroll': section.isTranspose, 'gb-hide-table-pagination': (!!!section.display_data && !section.d_loading) || section.d_loading}" id="sectionGrid-{{$index}}" class="gb-grid-container width-100-per"><div ng-class="{'min-height-124': !!section.display_data && !section.d_loading}" class="overflow-auto"><div ng-show="!!!section.display_data && !section.d_loading" class="min-height-50">{{sectionCtrl.getValue('no_data')}}</div><div ng-show="section.d_loading" class="section-loader"><div class="rect rect1"></div><div class="rect rect2"></div><div class="rect rect3"></div><div class="rect rect4"></div><div class="rect rect5"></div></div><table ng-if="!!section.display_data" class="table gb-table ng-table gb-apps-table" export-csv="csv" ng-hide="section.d_loading"><thead ng-style="{'min-width':(100 / (section.display_data.length + 1)) + '%'}" ng-class="{'width-50-per':!section.display_data.length}"><tr><th ng-repeat="column in sectionCtrl.getSectionColumns(section.columns) track by $index" id="columnHeader" ng-show="column.visible" class="sortable gb-table-th gb-row-filter" style="text-align: left;" ng-class="{
                            'sort-asc': (section.info.sorting.field == column.field && section.info.sorting.reverse == false),
                            'sort-desc': (section.info.sorting.field == column.field && section.info.sorting.reverse == true),
                            'filtered' : sectionCtrl.hasColumnFilter(section, column)
                            }" ng-click="sectionCtrl.sortClicked($event, section, column.field)"><div style="width: 100%" id="columnDiv" ng-class="{'gb-inline-flex': !section.isTranspose}"><span id="columnLabel" class="gb-table-th-title" ng-class="{'display-inline-block': !!section.isTranspose}">{{section.columnsMap[column.title]}} </span><span class="dropdown gb-grid-header-icon" ng-if="column.type === 'number'"><button class="btn gb-glass-btn" type="button" data-toggle="dropdown"><span class="glyphicon glyphicon-filter"></span></button><ul class="dropdown-menu dropdown-menu-form gb-dd-width" ng-class="{'dropdown-menu-right': !column.firstVisible && !section.isTranspose}" role="menu" ng-click="sectionCtrl.stopFilter($event, section, column)"><li class="gb-column-filter-cnt"><span class="label-style1">Show</span> <select ng-model="column.operator" class="select-style1"><option value=">">&gt;</option><option value="<">&lt;</option><option value="=">=</option></select> <input type="number" class="input-style4" ng-model="column.value"></li><li class="divider"></li><li class="pull-left" style="padding:5px 2px"><button class="gb-primary-btn gb-modal-btn-sm" ng-click="sectionCtrl.doneFilter($event, section, column)">Done</button> <button class="gb-secondary-btn gb-modal-btn-sm" ng-click="sectionCtrl.cancelFilter($event, section, column);">Cancel</button></li></ul></span><span class="dropdown gb-grid-header-icon" ng-if="column.type === 'boolean'"><button class="btn gb-glass-btn" type="button" data-toggle="dropdown"><span class="glyphicon glyphicon-filter"></span></button><ul class="dropdown-menu dropdown-menu-form gb-dd-width-2" role="menu" ng-click="sectionCtrl.stopFilter($event, section, column)"><li><label class="checkbox"><input type="checkbox" ng-checked="column.true && column.false" ng-change="column.true=column.all; column.false=column.all;" ng-model="column.all"> Show All</label></li><li class="divider"></li><li><ul class="gb-filter-checkbox-group"><li><label class="checkbox"><input type="checkbox" ng-model="column.true"> True</label></li><li><label class="checkbox"><input type="checkbox" ng-model="column.false"> False</label></li></ul></li><li class="pull-left" style="padding:5px 2px"><button class="gb-primary-btn gb-modal-btn-sm" ng-click="sectionCtrl.doneFilter($event, section, column)">Done</button> <button class="gb-secondary-btn gb-modal-btn-sm" ng-click="sectionCtrl.cancelFilter($event, section, column)">Cancel</button></li></ul></span><span class="dropdown gb-grid-header-icon" ng-if="column.type === 'string'"><button class="btn gb-glass-btn" type="button" data-toggle="dropdown"><span class="glyphicon glyphicon-filter"></span></button><ul class="dropdown-menu dropdown-menu-form gb-dd-width-2" ng-class="{'dropdown-menu-right': !column.firstVisible && !section.isTranspose}" role="menu" ng-click="sectionCtrl.stopFilter($event, section, column)"><li class="gb-column-filter-cnt"><span class="label-style1">Search </span><input type="text" ng-model="column.value" class="input-style3"></li><li class="divider"></li><li class="pull-left" style="padding:5px 2px"><button class="gb-primary-btn gb-modal-btn-sm" ng-click="sectionCtrl.doneFilter($event, section, column)">Done</button> <button class="gb-secondary-btn gb-modal-btn-sm" ng-click="sectionCtrl.cancelFilter($event, section, column)">Cancel</button></li></ul></span></div></th></tr></thead><tbody ng-if="!section.display_data.length"><tr class="width-100-per"><td class="border-bottom-0">{{sectionCtrl.getValue('col_filter_fail')}}</td></tr></tbody><tbody ng-if="!!section.display_data.length"><tr ng-repeat="row in section.display_data track by $index" ng-style="{'min-width':(100 / section.display_data.length) + '%'}"><td class="gb-word-wrap" ng-repeat="column in section.columns track by $index" sly-show="column.visible" create-rules load-ctrl="appCtrl" on-select="sectionCtrl.generateRuleLogic(section, column);" sortable="column.field">{{row[column.field]}}</td></tr></tbody></table><script type="text/ng-template" id="custom/pager"><div class="ng-cloak ng-table-pager">
                            <ul class="pagination ng-table-pagination">
                                <li ng-class="{'disabled': !page.active}" ng-repeat="page in pages track by $index"
                                    ng-switch="page.type">
                                    <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a>
                                    <a ng-switch-when="first" ng-click="params.page(page.number)" href="">
                                        <span ng-bind="page.number"></span>
                                    </a>
                                    <a ng-switch-when="page" ng-click="params.page(page.number)" href="">
                                        <span ng-bind="page.number"></span>
                                    </a>
                                    <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a>
                                    <a ng-switch-when="last" ng-click="params.page(page.number)" href="">
                                        <span ng-bind="page.number"></span>
                                    </a>
                                    <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a>
                                </li>
                            </ul>
                        </div></script></div></div></div><div class="height-18" ng-if="section.info.page.pages > 1"><span class="gb-pagination display-inline-block margin-left-13 pull-right"><a class="icon-previous2 pagination-icon" title="First Page" ng-click="sectionCtrl.firstPage(section)" ng-class="{'pagination-icon-disabled': (section.info.page['current'] <= 1)}"></a> <a class="icon-arrow-left7 pagination-icon" title="Previous Page" ng-click="sectionCtrl.prevPage(section)" ng-class="{'pagination-icon-disabled': (section.info.page['current'] <= 1)}"></a><pre class="gb-pagination-msg" sly-show="section.info.page['current'] < section.info.page['pages']">{{(section.info.page['current'] - 1) * section.info.page['count'] + 1}} - {{(section.info.page['current'] - 1) * section.info.page['count'] + section.info.page['count']}} of {{section.info.page['total']}}</pre><pre class="gb-pagination-msg" sly-show="section.info.page['current'] == section.info.page['pages']">{{(section.info.page['current'] - 1) * section.info.page['count'] + 1}} - {{section.info.page['total']}} of {{section.info.page['total']}}</pre><a class="icon-arrow-right7 pagination-icon" title="Next Page" ng-click="sectionCtrl.nextPage(section)" ng-class="{'pagination-icon-disabled': (section.info.page['current'] >= section.info.page['pages'])}"></a> <a class="icon-next2 pagination-icon" title="Last Page" ng-click="sectionCtrl.lastPage(section)" ng-class="{'pagination-icon-disabled': (section.info.page['current'] >= section.info.page['pages'])}"></a></span></div></div></div>