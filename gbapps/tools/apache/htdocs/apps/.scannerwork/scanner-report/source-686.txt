<div class="gb-instance-dashboard" ng-show="isVisible()" ng-class="{'gb-instance-dashboard-fullscreen': isViewerVisible(), 'gb-instance-dashboard-minimized': !isViewerVisible()}"><div class="row gb-mask-normal" ng-show="isViewerVisible()"></div><div class="row gb-instance-dashboard-controll-cnt"><span id="minimize-maximize-instance-viewer" class="gb-instance-dashboard-controll-icon" ng-class="isViewerVisible()?'icon-arrow-down7':'icon-arrow-up6'" ng-click="setViewerVisible(!isViewerVisible())"></span></div><div class="page-loader-white-gb gb-show" ng-show="loading"><div class="page-loader-body"><div class="rect rect1"></div><div class="rect rect2"></div><div class="rect rect3"></div><div class="rect rect4"></div><div class="rect rect5"></div></div></div><div class="row gb-instance-dashboard-main-cnt"><tabset class="gb-instance-dashboard-tabpanel"><tab ng-repeat="instance in instances track by $index" ng-click="setViewerVisible(true); refreshInstance(instance); checkOwner(instance);" active="instance.visible"><tab-heading title="{{instance.name}}" id="{{getiTabId(instance)}}"><span id="close-tab-{{$index}}" class="icon-close2 pull-right gb-close-icon" ng-click="removeInstance(instance);showLoading()"></span> <span id="instance-viewer-title-{{$index}}">({{$index+1}}) {{instance.name | limitTo: 15}}</span> <span ng-if="instance.name.length > 15">...</span></tab-heading><div ng-if="instance.type === 'dashboard'" class="gb-overflow-none"><table width="100%" height="100%" class="iviewerTable" cellpadding="0" cellspacing="0" border="0"><tr><td><div class="page-loader-white-gb gb-show" ng-attr-id="dashboard-content-loader-{{instance.md5}}" ng-show="!!instance.loading"><div class="page-loader-body"><div class="rect rect1"></div><div class="rect rect2"></div><div class="rect rect3"></div><div class="rect rect4"></div><div class="rect rect5"></div></div></div><div ng-attr-id="idashboard-iframe-div-{{instance.md5}}" ng-class="{'gb-opacity-50-per': !!instance.loading, 'gb-opacity-100-per': !!!instance.loading}"><iframe height="100%" width="100%" class="iviewerDashboardIframe idashboard-{{instance.md5}}" frameborder="0" ng-src="{{secureURL(instance.data.report.r_link)}}" refreshable="getRefreshCount()" onload="dashboardLoadingDone(event);" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"></iframe></div></td></tr></table></div><div ng-if="instance.type === 'nsr'" class="gb-overflow-none"><table width="100%" height="100%" class="iviewerTable" cellpadding="0" cellspacing="0" border="0"><tr><td><div class="page-loader-white-gb gb-show" id="dashboard-content-loader-{{instance.md5}}" ng-show="!!instance.loading"><div class="page-loader-body"><div class="rect rect1"></div><div class="rect rect2"></div><div class="rect rect3"></div><div class="rect rect4"></div><div class="rect rect5"></div></div></div><div id="idashboard-iframe-div-{{instance.md5}}" ng-class="{'gb-opacity-50-per': !!instance.loading, 'gb-opacity-100-per': !!!instance.loading}"><iframe height="100%" width="100%" class="iviewerDashboardIframe idashboard-{{instance.md5}}" frameborder="0" ng-src="{{secureURL(instance.data.report.r_link)}}" refreshable="getRefreshCount()" onload="dashboardLoadingDone(event);" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"></iframe></div></td></tr></table></div><div ng-if="instance.type === 'tableau'" class="tableau-main"><div ng-if="instance.data.mode === 'viewer'"><div ng-click="goToEdit(instance)" class="tabToolbarButton tableau-edit-button" ng-show="instance.delay && isOwner(instance)!=false" style="-webkit-user-select: none; -webkit-tap-highlight-color: transparent; height: 27px; width: auto;"><span class="tabToolbarButtonImg"></span> <span class="tabToolbarButtonText">{{isOwner(instance)}}</span></div><tableau-tabbed-instance ng-if="instance.data.book.tabs" instance="instance" class="tableau-instance"></tableau-tabbed-instance><tableau-instance ng-if="!instance.data.book.tabs" instance="instance" class="tableau-instance"></tableau-instance></div><div ng-if="instance.data.mode !== 'viewer'"><span ng-click="goToView(instance)" class="gb-tableau-back-button" ng-show="instance.delay">Back</span><tableau-editor instance="instance" class="tableau-editor"></tableau-editor></div></div><div ng-if="instance.type === 'permissions'" class="tableau-main"><tableau-permissions instance="instance" class="tableau-editor"></tableau-permissions></div><div ng-if="instance.type === 'section'" class="gb-instance-dashboard-partial"><ng-include src="getURL('section')"></ng-include></div><div ng-if="instance.type === 'event'" class="gb-instance-dashboard-partial"><ng-include src="getURL('event')"></ng-include></div><div ng-if="instance.type === 'apps'" class="gb-instance-dashboard-partial"><apps-view instance="{{instance}}" instancedata="{{instance.data}}"></apps-view></div><div ng-if="instance.type === 'EVENT_GROUP'" class="gb-instance-dashboard-partial"><apps-event-group instancedata="instance.data"></apps-event-group></div></tab></tabset></div></div>