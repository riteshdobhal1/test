<div class="analytics analytics_div" ng-controller="HealthCheckDashboardsCtrl as healthCtrl">
    <div class="errorBlock" ng-show="healthCtrl.info.listViewError">
        <div class="errorMsgRed">{{healthCtrl.info.listViewErrorMsg}}</div>
    </div>    
    <div class="row padding-0" ng-if="healthCtrl.loaded">
        <nav class="primary-nav">
            <div ng-hide="healthCtrl.info.listViewError || healthCtrl.getHealthDashLength() == 0">
                <!-- UNCOMMENT THIS CODE BLOCK FOR CLINSIGHTS MENU -->
                <!-- <div class="primary-nav-item-menubar navbar-left nav-menu" data-toggle="dropdown" id="clinsight-menu">
                    <a class="material-icons-outlined clinsight-menu">menu</a>
                </div>
                <div class="gb-clinsight-menu-dropdown dropdown-menu gb-custom_scroll-bar" id="clinsight-menu">
                    <a role="button" class="close-clinsight-menu" data-toggle="collapse">
                        <i class="fa fa-arrow-left"></i>
                    </a>
                    <ul class="clinsights-menu-list-container" ng-repeat="menuItem in healthCtrl.menuList track by $index">
                        <li class="clinsights-menu-list-item" ng-class="{'selected': menuItem.id == healthCtrl.currentSelectedDashboardObj.parent_node_id || menuItem.id == healthCtrl.mainSelectedCategory.parent_node_id, 'disable': menuItem.disable}" ng-click="healthCtrl.showSubMenu(menuItem,''); $event.stopPropagation()">
                            <span>{{menuItem.name}}</span>
                            <i ng-if="menuItem.children.length" ng-class="{'fa-angle-up' : menuItem.expanded , 'fa-angle-down' : !menuItem.expanded}" class="fa"></i>
                        </li>
                        <ul ng-if="menuItem.children.length && menuItem.expanded" ng-repeat="child in menuItem.children">
                            <li class="clinsights-menu-list-item" ng-class="{'selected': child.report_url == healthCtrl.currentSelectedDashboardObj.report_url || child.id == healthCtrl.mainSelectedCategory.id, 'disable': child.disable}" ng-click="healthCtrl.showSubMenu(child,menuItem); $event.stopPropagation()">
                                <span>{{child.name}}</span>
                                <i ng-if="child.children.length" class="fa fa-angle-down"></i>
                            </li>
                            <ul ng-if="child.children.length && child.expanded" ng-repeat="grandChild in child.children">
                                <li class="clinsights-menu-list-item" ng-class="{'selected': grandChild.report_url == healthCtrl.currentSelectedDashboardObj.report_url || grandChild.id == healthCtrl.mainSelectedCategory.id, 'disable': grandChild.disable}" ng-click="healthCtrl.showSubMenu(grandChild,child); $event.stopPropagation()">
                                    <span>{{grandChild.name}}</span>
                                    <i ng-if="grandChild.children.length" class="fa fa-angle-down"></i>
                                </li>
                                <ul ng-if="grandChild.children.length && grandChild.expanded" ng-repeat="greatGrandChild in grandChild.children">
                                    <li class="clinsights-menu-list-item" ng-class="{'selected': greatGrandChild.report_url == healthCtrl.currentSelectedDashboardObj.report_url || greatGrandChild.id == healthCtrl.mainSelectedCategory.id, 'disable': greatGrandChild.disable}" ng-click="healthCtrl.showSubMenu(greatGrandChild,grandChild); $event.stopPropagation()">
                                        <span>{{greatGrandChild.name}}</span>
                                        <i ng-if="grandChild.children.length" class="fa fa-angle-down"></i>
                                    </li>
                                </ul>
                            </ul>
                        </ul>
                    </ul>
                </div> -->
                <div ng-hide = "healthCtrl.info.noSummary" ng-class="{'nav-selected' : healthCtrl.dashboardType == 'summary'}" class="primary-nav-item  navbar-left nav-summary-dash">
                    <a ng-click="healthCtrl.setDashboard('summary')"><i class="fa fa-home"></i> {{healthCtrl.summaryDash[0].dname}}</a>
                </div>
                <div ng-class="{'nav-selected' : healthCtrl.dashboardType == 'other'}" class="primary-nav-item  navbar-left nav-other-dash">
                    <a ng-click="healthCtrl.setDashboard('other')">{{htmconstdata['ALL_DBS']}}</a>
                </div>
            </div>
            <div class="clinsight-action-icon-container" id="clinsight-action-container" ng-show = "healthCtrl.info.clinsightFlag && healthCtrl.dashboardType == 'summary'">
                <div id="clinsight-tag-subscription-container">
                    <a title="Tag Subscription" id="clinsight-tag-subscription-btn" class="gb-dashboard-tool-bar-icon dashboard-predefined-tag-icon-subscribe"  ng-click="healthCtrl.openTagSubscription()">  <span class="material-icons-outlined">
                        notification_add
                        </span> </a>
                    
                </div>
                <div>
                    
                    <div class="gb-notification-dropdown-container" id="gbTourAddRulesEmailTemplate" id="clinsight-tag-notification-container">
                        <button class="gb-notification-dropdown-btn" title="{{ healthCtrl.info.unreadCount > 0 || healthCtrl.info.unreadCount ==  '999+' ? ('Unread notifications ('+healthCtrl.info.unreadCount_actual+ ')' )  : ('Notifications') }}" id="clinsight-tag-notification-btn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-click="healthCtrl.info.allNotificationSelected=!healthCtrl.info.allNotificationSelected;healthCtrl.fetchNotification()">
                            <a class="gb-dashboard-tool-bar-icon dashboard-predefined-tag-icon-notification"  >  <i class="fa fa-bell"></i> </a> 
                            <span class="gb-notification-icon-unread-count "  id="clinsight-tag-notification-unread" ng-show="healthCtrl.info.unreadCount > 0 || healthCtrl.info.unreadCount == '999+'">{{healthCtrl.info.unreadCount}}</span></button>
                        <ul class="gb-notification-dropdown dropdown-menu" style="font-size: 10px; " id="clinsight-tag-notification-dropdown-menu" ng-click="$event.stopPropagation()">
                          <div class="success-block successfade" ng-show="healthCtrl.info.notiSuccess || healthCtrl.info.notifail">
                            <svg class="checkmark" ng-show="healthCtrl.info.notiSuccess" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52" >
                                <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                                <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                            </svg>
                            <svg ng-show="healthCtrl.info.notifail"  class="crossmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                                <circle class="crossmark__circle" cx="26" cy="26" r="25" fill="none"/>
                                <path class="cross__path cross__path--right" fill="none" d="M16,16 l20,20" />
                                 <path class="cross__path cross__path--left" fill="none" d="M16,36 l20,-20" />
                            </svg>
                          </div>  
                            <div class="gb-notification-action-top " ng-if="!healthCtrl.info.notificationLoading" >
                  
                                  
                                <button title="All Notifications"
                                ng-click="healthCtrl.notificationFilterChange('all', !healthCtrl.info.noti_filter.all)"
                                ng-class="{'gb-primary-btn gb-primary-sm-btn no-pointer-events':  healthCtrl.info.noti_filter.all, 'gb-secondary-btn gb-secondary-sm-btn':  !healthCtrl.info.noti_filter.all }">All</button>
                                
                                <button title="Read Notifications"
                                ng-click="healthCtrl.notificationFilterChange('read', !healthCtrl.info.noti_filter.read)"
                                ng-class="{'gb-primary-btn gb-primary-sm-btn no-pointer-events':  healthCtrl.info.noti_filter.read, 'gb-secondary-btn gb-secondary-sm-btn':  !healthCtrl.info.noti_filter.read }">Read</button>
                               
                                <button  title="Unread Notifications"
                                ng-click="healthCtrl.notificationFilterChange('unread', !healthCtrl.info.noti_filter.unread )"
                                ng-class="{'gb-primary-btn gb-primary-sm-btn no-pointer-events':  healthCtrl.info.noti_filter.unread, 'gb-secondary-btn gb-secondary-sm-btn':  !healthCtrl.info.noti_filter.unread }">Unread</button>
                                
                                <div class="notfication-loadmore-text" id="notfication-loadmore-text" ng-hide="healthCtrl.info.notificationList.length == 0">
                                    <span title="{{healthCtrl.info.noti_pagination.paginationText}}" class="notification-pagination-text" id="notfication-loadmore-text-span">
                                        {{healthCtrl.info.noti_pagination.paginationText}}
                                    </span>
                                </div>
                                
                            </div>
                            

                          <div class="sysid-empty-block" ng-if="healthCtrl.info.notificationList.length == 0 && !healthCtrl.info.notificationLoading" id="clinsight-tag-notification-empty">No Notification Available</div>
                          <div class="gb-notification-loading" ng-show="healthCtrl.info.notificationLoading" id="clinsight-tag-notification-loader">
                            <img id="app-loader" src="/apps/app/img/small_Loader.svg" alt="Loading ..." width="75px"/>
                          </div>
                         <div class="notification-main-container gb-custom_scroll-bar" ng-show="!healthCtrl.info.notificationLoading" id="clinsight-tag-notification-dropdown-body">
                          <li class="roleList gb-notification-li" ng-repeat="noti in healthCtrl.info.notificationList track by $index" ng-class="{'gb-notification-selected': noti.selected}" id="clinsight-tag-notification-li-{{$index+1}}" >
                            <div class="notification-inner-container" ng-class="{'gb-notification-unread': !noti.read}" id="clinsight-tag-notification-inner-{{$index+1}}">
                                <div class="notification-checkbox-container" id="clinsight-tag-notification-checkbox-cont-{{$index+1}}">
                                  <input title="Mark" type="checkbox" class=" gb-custom-checkbox glyphicon" ng-model="noti.selected" ng-checked="noti.selected" style="margin: 0px !important;"    id="clinsight-tag-notification-checkbox-{{$index+1}}" ng-change=" healthCtrl.updateNotificationSelectedCount()" >
                                </div>
                                <div class="notification-body-container" id="clinsight-tag-notification-body-container-{{$index+1}}">
                                    
                                          <div title="{{noti.display_time}}" class="notification-time notification-timestamp-span" id="clinsight-tag-notification-time-val-{{$index+1}}">
                                            <i class="fa fa-clock-o" aria-hidden="true"></i>
                                            {{noti.display_time}}
                                          </div>
                                        
                                       
                                        
                                    
                                    <div class="notification-msg-body">
                                        <div  title="{{noti.body}}" n ng-class="{'notification-message':  noti.moreBtn, 'notification-message-less':  noti.lessBtn }" class="notification-message" id="clinsight-tag-notification-message-{{$index+1}}" ng-bind-html = "(!noti.lessBtn ? noti.readLessText:  noti.details  )">
                                            <!-- {{(!noti.lessBtn ? noti.readLessText:  noti.details  )}} -->
                      
                                        </div>
                                        <span title="Show details" class="notification-more-btn" ng-show="noti.moreBtn" ng-click="noti.moreBtn = !noti.moreBtn;noti.lessBtn = !noti.lessBtn; healthCtrl.logShowDetails(noti) "  ><i class="fa fa-chevron-down" aria-hidden="true"></i></span>
                                        <span title="Hide details" class="notification-less-btn" ng-show="noti.lessBtn" ng-click="noti.lessBtn = !noti.lessBtn;noti.moreBtn = !noti.moreBtn"><i class="fa fa-chevron-up" aria-hidden="true"></i></span>
                                    </div>
                                    
                                </div>
                                <div class="notification-open-div">
                                    <span class="mark-read-span" title="Mark read" ng-click="healthCtrl.singleMarkRead(noti)" ng-show="!noti.read"><i class="fa fa-envelope-open-o" aria-hidden="true"></i></span>
                                    <span class="mark-read-span delete-span" title="Delete Notification" ng-click="healthCtrl.singleDelete(noti)" ><i class="fa fa-trash-o" aria-hidden="true"></i></span>
                                    <span class="open-icon-span" title="Open dashboard" ng-click="healthCtrl.notificationClick(noti)"><i class="fa fa-external-link" aria-hidden="true"></i></span>
                                </div>
                                
                            </div>
                            
                        </li>
                        <div class="notification-loadmore-container" ng-hide="healthCtrl.info.notificationList.length == 0 || (healthCtrl.info.noti_pagination.endIndex > healthCtrl.info.notificationList.length) ">
                            <div class="notfication-loadmore-text" style="width: 100%;"> 
                                <span ng-if=" !(healthCtrl.info.noti_pagination.total ==  healthCtrl.info.noti_pagination.endIndex)" title="load more" class="notification-loadmore" ng-click="healthCtrl.showMore()" ng-click="healthCtrl.showMore()"> Load more  notifications </span>
                                
                            </div>
                            <div title="Back to top" class="notification-back-to-top" ng-click="healthCtrl.backToTop()"> <span><i class="fa fa-arrow-circle-up" aria-hidden="true"></i></span></div>
                        </div>
                           
                         </div>
                         
                          <footer class="notification-footer" ng-if="!healthCtrl.info.notificationLoading" ng-hide="healthCtrl.info.notificationList.length == 0" id="clinsight-tag-notification-footer">
                            <button title="Select all notifications" id="clinsight-tag-notification-footer-markall-btn" class="mr-20 gb-primary-btn gb-primary-sm-btn"  
                            ng-click="healthCtrl.info.allNotificationSelected = !healthCtrl.info.allNotificationSelected;healthCtrl.selectallNotification()"
                            ng-class="{'gb-primary-btn gb-primary-sm-btn':  healthCtrl.info.allNotificationSelected, 'gb-secondary-btn gb-secondary-sm-btn':  !healthCtrl.info.allNotificationSelected }">   Select all</button>
                            <button title="Mark read notifications" id="clinsight-tag-notification-footer-read-btn" class="mr-20 gb-primary-btn gb-primary-sm-btn" ng-click="healthCtrl.markReadNotification()" ng-disabled="healthCtrl.info.readbtnStatus">Read</button>
                            <button title="delete notifications" id="clinsight-tag-notification-footer-delete-btn" class=" mr-20 gb-primary-btn gb-primary-sm-btn" ng-click="healthCtrl.deleteNotification()" ng-disabled="healthCtrl.info.deletebtnStatus">Delete</button>
                          </footer>
                        </ul>
                    </div>
                </div>
            </div>
    
            <div ng-show="healthCtrl.showEndCustomerList()" class="endCusSel">
                <form class="form-inline gb-health-check-select-customer-dd">
                    <div class="form-group">
                    <label for="gbHealthCheckCustomerList">{{htmconstdata['SELECT_CUST']}}</label> 
                        <select id="gbHealthCheckCustomerList" class="form-control" ng-options="endcustomer.label for endcustomer in healthCtrl.endcustomerObjArray" ng-model="healthCtrl.info.selectedItem" title="{{healthCtrl.info.selectedItem.label}}" ng-change="healthCtrl.setCustomerName()">
                        </select>
                    </div>                
                </form>
	        </div>
        </nav>
    </div>
    <div class="summaryDashWrap"  ng-show="healthCtrl.dashboardType == 'summary' && healthCtrl.loaded && !healthCtrl.info.listViewError">
        <div class='page-loader-white-gb' ng-hide="healthCtrl.getSysErrors().length" ng-class="{'gb-hide': healthCtrl.loaded}">
                <div class="page-loader-body">
                    <div class="rect rect1"></div>
                    <div class="rect rect2"></div>
                    <div class="rect rect3"></div>
                    <div class="rect rect4"></div>
                    <div class="rect rect5"></div>
                </div>
            </div>
            <div class="gb-summary-dashboard-container">
                <iframe id="health-dashboardiframe" ng-show="healthCtrl.loaded" ng-src="{{healthCtrl.sceURL(healthCtrl.summaryDash[0].reports[0].r_link)}}" frameborder="no" width="100%" onload="loadingDone();"></iframe>
            </div>
    </div>
    <div class="othersDashWrap" ng-show="healthCtrl.dashboardType == 'other' && healthCtrl.loaded && !healthCtrl.info.listViewError">
        <div class="gb-msg-center" ng-show="healthCtrl.health_check_dashboards.length==0 || healthCtrl.health_check_dashboards == undefined">
            <span class="msg">{{htmconstdata['NO_DBS']}}</span>
        </div>
        <div class="row-fluid">
            <div class="gb-dashboard-tool-bar">
                <div class="gb-dashboard-tool-bar-dropdown-menu" id="gbTourHealthcheckFilterByOwner">
                    <label >Created by&nbsp;:&nbsp;</label>
                    <div class="gb-tool-form">
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="healthcheck_created_by" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            {{healthCtrl.info.createdBy}}
                            <span class="caret"></span>
                            </button>
                            <ul class="user-dropdown dropdown-menu">
                                <li ng-show='healthCtrl.getDCreatorName().length > 1' ng-click="healthCtrl.firstPage();healthCtrl.info.createdBy='All';healthCtrl.getAllDashboards();healthCtrl.filterByHealthCheckCreator('All')"">
                                    <a class="dropdown-item" >All</a>
                                </li>
                                <li ng-repeat='duser in healthCtrl.getDCreatorName()  track by $index' ng-click="healthCtrl.firstPage();healthCtrl.info.createdBy=duser;healthCtrl.getAllDashboards(); healthCtrl.filterByHealthCheckCreator('created_by', duser)">
                                    <a class="dropdown-item gb-wrap-ellipsis" title="{{duser}}">{{duser}}</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="gb-toolbar-flexbox-wrapper">
                    <div class="gb-add-tags-dd-box" ng-if="healthCtrl.info.addDeleteTag" id="gbDashboardAddTags">
                        <div class="btn-group gb-no-transition" id="gb-add-tag-dd-container" ng-show="healthCtrl.showAddTagsDd()">
                            <button title="Add tags to the selected dashboards" class="dropdown-toggle gb-add-tag-icon" data-toggle="dropdown" ng-click="healthCtrl.info.errMsg='';healthCtrl.info.tags=''" id="dashAddTag">
                                <i class="fa fa-tags" aria-hidden="true"></i>
                            </button>
                            <div class="dropdown-menu dropdown-menu-form gb-add-tags-dd" role="menu" ng-click="$event.stopPropagation();">
                                <div class="panel-heading">
                                <span class="title">Add Tags</span>
                                <div class="gb-error-text-smallest alert alert-danger" ng-show="healthCtrl.showMsg()" >
                                        {{healthCtrl.info.errMsg}}
                                    </div>
                                </div>
                                <div class="panel-body">
                                    <textarea row="3" placeholder="Tags" ng-model="healthCtrl.info.tags" ng-change="healthCtrl.isAlphaNumeric()"></textarea>
                                    <div class="gb-help-text-smallest">
                                        {{htmconstdata['ADD_TAGS']}}. 
                                        <br>
                                        {{htmconstdata['TAG_EXAMPLE']}}
                                    </div>
                                    <div class="gb-all-tags-list" ng-show="healthCtrl.getAllTagsName().length > 0">
                                    <a ng-repeat="tag in healthCtrl.getAllTagsName()  track by $index" class="gb-all-tags-text" ng-click="healthCtrl.addExistingTag(tag)" title="Add Tag">{{tag}}</a>
                                    </div>
                                    <footer>
                                        <button id="dashAddTagSubmit" class="gb-primary-btn gb-primary-sm-btn" ng-click="healthCtrl.addTagsMultiple()" ng-disabled="healthCtrl.info.errMsg || !healthCtrl.info.tags">Submit</button>
                                    </footer>
                                </div>
                            </div>
                        </div>
                        <div class="btn-group gb-dashboard-tool-bar-icon gb-no-transition disabled" ng-hide="healthCtrl.showAddTagsDd()">
                            <span title="{{htmconstdata['ADD_TAGS_TITLE']}}" >
                                <i class="fa fa-tags" aria-hidden="true"></i>
                            </span>
                        </div>
                    </div>
                    <div class="gb-dashboard-tool-bar-dropdown-menu" id="gbTourhealthChkAssignRole" ng-if="healthCtrl.info.addDeleteTag">
                        <div class="gb-tool-form">
                            <div class="dropdown">
                                <button title="{{healthCtrl.roleAssignTitle}}" class="assignRoleToggle" ng-disabled="!healthCtrl.showAddTagsDd()" type="button" id="assignRole" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <img ng-src="{{!healthCtrl.showAddTagsDd() && '/apps/app/img/roleacces_disabled.svg' || '/apps/app/img/roleacces.svg'}}" width="16" height="16">
                                </button>
                                <ul class="user-dropdown dropdown-menu">
                                    <li class="roleAction"><a class="roleSelectAll" href="#" ng-click="healthCtrl.selectAllRole(); $event.stopPropagation()">Select All</a><a class="roleClear" href="#" ng-click="healthCtrl.clearAllRole(); $event.stopPropagation()">Clear</a></li>
                                    <li class="roleList" ng-repeat="role in healthCtrl.roles" title="{{role.name}}">
                                        <!-- <i class="fa fa-square-o" ng-show="!role.selected" aria-hidden="true" ng-click="healthCtrl.toggleRoleSelect(role.name); $event.stopPropagation()"></i>
                                        <i class="fa fa-check-square-o" ng-show="role.selected" aria-hidden="true" ng-click="healthCtrl.toggleRoleSelect(role.name); $event.stopPropagation()"></i> -->
                                        <input type="checkbox" class=" gb-custom-checkbox glyphicon"   ng-model="role.selected" ng-click="healthCtrl.toggleRoleSelect(role.name); $event.stopPropagation()">
                                        <span ng-click="healthCtrl.toggleRoleSelect(role.name); $event.stopPropagation()" class="roleName">{{role.name}}</span>
                                    </li>
                                    <button class="assignRoleBtn" ng-disabled="healthCtrl.checkRoleSubmit()" ng-click="healthCtrl.addRoleConf()" id="gbTourDasboardAssignRoleBtn">DONE</button>
                                </ul>
                            </div>
                        </div>
                        <button class="gb-dashboard-tool-bar-icon assignRoleBtn showUsersBtn" ng-disabled="!healthCtrl.showAddTagsDd()" ng-click="healthCtrl.showUsers()" id="gbTourDasboardUserListBtn"><a class="fa fa-address-book" title="Users list"></a></button>
                    </div>
                    <div class="gb-dashboard-tool-bar-menu-item gb-dashboard-tool-bar-menu-search-box">
                        <!-- search panel -->
                        <div class="gb-search-box-with-icon-as-bg">
                            <span class="glyphicon glyphicon-search form-control-feedback"></span>
                            <input class="gb-inline-search-box" type="text" ng-model="healthCtrl.info.query" placeholder="{{htmconstdata['SEARCH_DB']}}" ng-change="healthCtrl.firstPage();healthCtrl.localFilter()" id="gbTourhealthcheckSearchInputBox">
                        </div>
                    </div>
                    <div class="gb-dashboard-tool-bar-menu-item healthcheck-switchview-item">
                        <span class="gb-dashboard-tool-bar-icon"  ng-class="{'selected': healthCtrl.info.currentView == 'list'}" ng-click="healthCtrl.changeView('list');healthCtrl.logActivity('Other Dashboards', 'Change View', 'List View');" id="gbTourDasboardListview">
                            <a class="fa fa-list" title="List" ></a>
                        </span>
                        <span class="gb-dashboard-tool-bar-icon" ng-class="{'selected': healthCtrl.info.currentView == 'thumbnail'}" ng-click="healthCtrl.changeView('thumbnail');healthCtrl.logActivity('Other Dashboards', 'Change View', 'Thumbnail View');" id="gbTourDasboardThumbnailview">
                            <a class="fa fa-th"  title="Thumbnail" ></a>
                        </span> 
                    </div>
                </div>        
            </div>
            <div class="listView" ng-hide="healthCtrl.health_check_dashboards.length==0 || healthCtrl.health_check_dashboards == undefined">
                <table class="table table-condensed table-bordered gbDashboardTable" ng-show="healthCtrl.info.currentView == 'list'">
                    <thead>
                        <tr ng-show="healthCtrl.info.currentView == 'list'">
                        <th class="icon-head gb-link dSelNew" ng-if="healthCtrl.info.addDeleteTag">
                            <!-- <i id="selectAllChk" class="fa fa-square-o" ng-show="!healthCtrl.info.page.selectAll[healthCtrl.info.page.current]" aria-hidden="true" ng-click="healthCtrl.toggleSelectAll('all')"></i>
                            <i id="unselectAllChk" class="fa fa-check-square-o" ng-show="healthCtrl.info.page.selectAll[healthCtrl.info.page.current]" aria-hidden="true" ng-click="healthCtrl.toggleSelectAll('all')"></i> -->
                            <input id="selectAllChk" type="checkbox" class=" gb-custom-checkbox glyphicon checkall"   ng-model="healthCtrl.info.page.selectAll[healthCtrl.info.page.current]" ng-click="healthCtrl.toggleSelectAll('all')">
                        </th>
                        <th class="dnameNew" ng-click="healthCtrl.sortItems('dname');healthCtrl.info.dashboardSortOrder = !healthCtrl.info.dashboardSortOrder;">
                            Name 
                            <span class="fa" ng-class="{'fa-chevron-down': healthCtrl.info.dashboardSortOrder,'fa-chevron-up': !healthCtrl.info.dashboardSortOrder}"></span>
                        </th>
                        <!-- th class="dDescNew">Description</th -->
                        <th class="dCreatedNew" ng-click="healthCtrl.sortItems('created_by');healthCtrl.info.dashboardSortOrderCB = !healthCtrl.info.dashboardSortOrderCB;">
                            Created by
                            <span class="fa" ng-class="{'fa-chevron-down': healthCtrl.info.dashboardSortOrderCB,'fa-chevron-up': !healthCtrl.info.dashboardSortOrderCB}"></span>
                        </th>
                        <th class="dOwnedNew" ng-click="healthCtrl.sortItems('gDOwner');healthCtrl.info.dashboardSortOrderOB = !healthCtrl.info.dashboardSortOrderOB;">
                            Owner
                            <span class="fa" ng-class="{'fa-chevron-down': healthCtrl.info.dashboardSortOrderOB,'fa-chevron-up': !healthCtrl.info.dashboardSortOrderOB}"></span>
                        </th>
                        <th class="dModifiedNew" ng-click="healthCtrl.sortItems('gDTs');healthCtrl.info.dashboardSortOrderDOFM = !healthCtrl.info.dashboardSortOrderDOFM;">
                            Last modified
                            <span class="fa" ng-class="{'fa-chevron-down': healthCtrl.info.dashboardSortOrderDOFM,'fa-chevron-up': !healthCtrl.info.dashboardSortOrderDOFM}"></span>
                        </th>
                        <th class="health-tag dTagNew">Tags</th>
                        <th class="dActionsNew">Actions</th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="book in healthCtrl.health_check_dashboards |orderBy: orderProperty track by $index">
                        <tr ng-if="book.dname && healthCtrl.showDashBoard(book,'dashLevel')" id="dashRowInt{{$index}}">
                            <td class="icon-head gb-link dSelNew" ng-if="healthCtrl.info.addDeleteTag">
                                <span ng-show="healthCtrl.showDashBoard(book,'tags')">
                                    <!-- <i class="fa fa-square-o" ng-show="!book.selected" aria-hidden="true" ng-click="healthCtrl.toggleSelectAll(book)"></i>
                                    <i class="fa fa-check-square-o" ng-show="book.selected" aria-hidden="true" ng-click="healthCtrl.toggleSelectAll(book)"></i> -->
                                    <input type="checkbox" class=" gb-custom-checkbox glyphicon"   ng-model="book.selected" ng-click="healthCtrl.toggleSelectAll(book)">
                                </span>
                            </td>
                            <td class="dnameNew" title="{{book.dname}}" ng-click="healthCtrl.toggleDashboard(book)">
                                <i class="fa fa-book" aria-hidden="true"></i>
                                <span class="gb-link-normal text-bold" ng-class="book.reports ? 'attribute-title' : 'attribute-title-no-cursor'">{{book.dname}}</span>
                            </td>
                            <!-- td class="dDescNew">
                                <span class="text-bold" ng-hide="book.ddesc=='NA' || book.ddesc == ''" title="{{book.ddesc}}">{{book.ddesc}}</span>
                                <span ng-show="book.ddesc=='NA' || book.ddesc == ''">&nbsp;</span>
                            </td -->
                            <td class="dCreatedNew">
                                <span class="text-bold" ng-hide="book.created_by=='NA' || book.created_by == ''" 
                                title="{{book.created_by}}">
                                    {{book.created_by}}
                                </span>
                                <span ng-show="book.created_by=='NA' || book.created_by == ''">&nbsp;</span>
                            </td>
                            <td class="dOwnedNew">
                                <div class="dropdown" title="{{healthCtrl.getTitle(book,'changeOwner')}}">
                                <button class="btn btn-custom dropdown-toggle changeOwnerBtn" ng-disabled="!healthCtrl.showDashBoard(book,'changeOwner') || healthCtrl.dashOwnerListLogi.length == 0" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-click="healthCtrl.logiOwnerSearch = ''">
                                    <i class="fa fa-user"></i>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <input type="text" placeholder="Search" class="logiOwnerSearch" ng-model="healthCtrl.logiOwnerSearch">
                                    <li ng-repeat="items in healthCtrl.dashOwnerListLogi | filter:healthCtrl.logiOwnerSearch" ng-hide="items === book.gDOwner"><a ng-click="healthCtrl.updateOwnerConf(items,book)" class="dropdown-item" href="#">{{items.email}}</a></li>
                                    <li ng-show="healthCtrl.checkAvailableAdmins(book)" class="noAdmins"><span>No Admins Available</span></li>
                                </ul>
                                </div>
                                <span class="text-bold" ng-hide="book.gDOwner=='NA' || book.gDOwner == '' || book.gDOwner==null" 
                                title="{{book.dashboardSecurityInfo.owner}}">
                                    {{book.gDOwner}}
                                </span>
                                <span ng-show="book.gDOwner=='NA' || book.gDOwner==null || book.gDOwner == ''">{{book.gDUser}}</span>
                            </td>
                            <td class="dModifiedNew">         
                                <span class="text-bold" ng-hide="book.modified_ts=='NA' || book.modified_ts == ''" 
                                title="{{book.modified_ts}}">
                                    {{book.gDTs}}
                                </span>
                                <span ng-show="book.ddesc=='NA' || book.ddesc == ''">&nbsp;</span>
                            </td>
                           <!-- <td class="dTagNew gb-overflow-visible">
            
                             <div class="gb-tag-flex">
                                <div  class="gb-tag-list-div" style="width:100%" >
                                        <span ng-if="book.tag" ng-repeat="tag in book.tag track by $index" class="gb-dashboard-tag">
                                                <span class="text" title="{{tag}}" >{{tag | cut:true:healthCtrl.info.tag_truncate_char_limit:'...'}}</span>
                                                <span ng-show="healthCtrl.showDashBoard(book,'tags')" title="Remove tag" ng-if="healthCtrl.info.addDeleteTag" 
                                                ng-click="healthCtrl.removeTagFromWorkbook(book, tag)" class="gb-dashboard-remove-tag icon-close">
                                                </span>
                                            </span>
                                </div>
                                <div class="dropdown" ng-if="book.tag" ng-show="book.tag.length > 1">
                                    <span class="dropdown-toggle gb-grid-tags-icon-cntr" data-toggle="dropdown">
                                        <i class="fa fa-tags" aria-hidden="true"></i>
                                        <span class="gb-tag-notification">{{book.tag.length}}</span>
                                    </span>
                                    <ul class="dropdown-menu dropdown-menu-left gb-custom_scroll-bar gb-tag-dropdown">
                                        <li ng-repeat="tag in book.tag track by $index" class="gb-dashboard-tag">
                                            <span class="text" title="{{tag}}">{{tag | cut:true:healthCtrl.info.tag_truncate_char_limit:'...'}}</span>
                                            <span ng-show="healthCtrl.showDashBoard(book,'tags')" title="Remove tag" ng-if="healthCtrl.info.addDeleteTag"
                                                ng-click="healthCtrl.removeTagFromWorkbook(book, tag)"><i class="fa fa-trash-o" aria-hidden="true"
                                                    ng-click="healthCtrl.removeTagFromWorkbook(book, tag)"></i>
                                            </span>
                                        </li>
                                    </ul>
                                </div>
                            </div> -->
                                
                                <!-- <span ng-if="book.tag" ng-show="book.tag.length == 1" ng-repeat="tag in book.tag track by $index" class="gb-grid-cell-single-tag">
                                    <span class="text" title="{{tag}}">{{tag | cut:true:healthCtrl.info.tag_truncate_char_limit:'...'}}</span>
                                    <span ng-show="healthCtrl.showDashBoard(book,'tags')" title="Remove tag" ng-if="healthCtrl.info.addDeleteTag"
                                                ng-click="healthCtrl.removeTagFromWorkbook(book, tag)"><i class="fa fa-trash-o" aria-hidden="true"
                                                    ng-click="healthCtrl.removeTagFromWorkbook(book, tag)"></i>
                                            </span>
                                </span>
                            </td>
                            </span>
                            </td>  -->
                            <td class="gb-tags-td">
                                <div class="gb-tag-dd-wrapper dropdown">
                                  <div class="moreWrapper">
                                    <span class="gb-grid-cell-tags" ng-repeat="tag in book.tag track by $index">
                                      <span class="text" title="{{tag}}">{{tag | cut:true:healthCtrl.info.tag_truncate_char_limit:'...'}}</span>
                                      <span class="remove-tag icon-close" ng-show="healthCtrl.showDashBoard(book,'tags')" title="Remove tag" ng-if="healthCtrl.info.addDeleteTag"
                                        ng-click="healthCtrl.removeTagFromWorkbook(book, tag)"></span>
                                    </span>
                                  </div>
                                  <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" ng-if="book.tag.length>2"
                                    title="Show More"><i class="fa fa-tags" aria-hidden="true"></i></button>
                                  <div class="dropdown-menu gb-custom_scroll-bar">
                              
                                    <span class="gb-grid-cell-tags" ng-repeat="tag in book.tag track by $index">
                                      <span class="text" title="{{tag}}">{{tag | cut:true:healthCtrl.info.tag_truncate_char_limit:'...'}}</span>
                                      <span class="remove-tag icon-close" ng-show="healthCtrl.showDashBoard(book,'tags')" title="Remove tag" ng-if="healthCtrl.info.addDeleteTag"
                                        ng-click="healthCtrl.removeTagFromWorkbook(book, tag)"></span>
                                    </span>
                                  </div>
                                    </div>
                                </td>
                            <td class="dActionsNew">
                                <div class="pull-left">
                                    <span aria-hidden="true" ng-class="{'activeVis icon-unlocked' : book.visibility, 'activeVis icon-lock2' : !book.visibility, 'disabledBtn':(!healthCtrl.showDashBoard(book,'tags'))}" ng-click="healthCtrl.changeVisibility(book)" ng-attr-title="{{ book.visibility ? 'Public'  : 'Private' }}" ng-disabled="!healthCtrl.showDashBoard(book,'tags')"></span>
                                </div>
                                <div class="dropdown rolesDrop">
                                    <button ng-disabled="!book.role_access.length>0" class="btn-noBorderBox dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true"
                                        aria-expanded="false" title="Roles with view access">
                                        <i class="fa fa-sitemap" aria-hidden="true"></i>
                                    </button>
                                    <ul class="user-dropdown dropdown-menu gb-custom_scroll-bar roleDropDownMenu">
                                        <li ng-repeat="role in book.role_access_dis track by $index">
                                            <span class="text" title="{{role.name}}" >{{role.name | cut:true:healthCtrl.info.tag_truncate_char_limit:'...'}}</span>
                                        <span class="remove-role icon-close" title="Remove role" ng-show="healthCtrl.showDashBoard(book,'tags') && healthCtrl.checkCurrentRole(role)" ng-click="healthCtrl.removeRoleConf(book, role)"></span>
                                        </li>
                                    </ul>
                                </div>
                            
                                <!-- <button ng-disabled="!healthCtrl.showDashBoard(book,'public')" ng-click="healthCtrl.changeVisibility(book)" ng-class="{'activeVis' : book.visibility}" class="visBtn" title="{{healthCtrl.getTitle(book,'public')}}">Public</button>
                                                            <button ng-disabled="!healthCtrl.showDashBoard(book,'private')" ng-click="healthCtrl.changeVisibility(book)" ng-class="{'activeVis' : !book.visibility}" class="visBtn2" title="{{healthCtrl.getTitle(book,'private')}}">Private</button> -->
                            </td>
                        </tr>
                        <tr ng-repeat="report in book.f_reports = (book.reports) track by $index" ng-if="book.reports" ng-show="book.expand" class="dSubPanelNew" id="dashRowInt{{$parent.$parent.$index}}_report{{$index}}">
                            <td class="dSelNew" ng-if="healthCtrl.info.addDeleteTag">&nbsp;</td>
                            <td title="{{report.rname}}" class="dnameNew"><span><i class="fa fa-bar-chart" aria-hidden="true"></i></span> <span ng-click="healthCtrl.addInstance(report);healthCtrl.logActivity(healthCtrl.dashboardType == 'summary' ? 'Summary Dashboard' : 'Other Dashboards', 'InstanceViewer', '{\''+report.rname+'\'}');" report='{{report}}' book='{{book}}'  class="cursor-pointer">{{report.rname}}</span></td>
                            <td class="dDescNew">{{report.rdesc}}</td>
                            <td class="dCreatedNew"></td>
                            <td class="dOwnedNew"></td>
                            <td class="dModifiedNew"></td>
                            <td class="dTagNew"></td>
                        </tr>
                    </tbody>
                </table> 
            </div>
                <div ng-hide="healthCtrl.info.currentView == 'list'">
                    <div class="col-xs-10 col-sm-3 col-md-2" ng-repeat="book in healthCtrl.getAllDashboards() track by $index">
                        <div class="thumbnail gb-sheet-thumbnail">                           
                            <a style="width:100%" class="gb-dashboard-thumbnail" ng-click='healthCtrl.showDashboardTileFrame(book)'>
                                <div style="width:100%" class="gb-dashboard-thumbnail">
                                    <img ng-src="{{healthCtrl.getSheetThumbnailImage(book)}}" alt="Dashboard" style="width:100%" onerror="this.src='/apps/app/img/dashboard1.png'" onload="dashboardTileImageLoad(this)">
                                    <div class="gb-data-loading-center gb-thumbnail-loading"></div>
                                </div>
                            </a>
                            <div class="caption gb-dashboard-thumbnail-footer">                       
                                <div class="gb-dashboard-select-box gb-heahthcheck-checkbox" ng-hide="healthCtrl.checkOwnerButton(book)">
                                    <!-- <i class="fa fa-square-o" ng-show="!book.selected" aria-hidden="true"ng-click="healthCtrl.toggleSelectAll(book)"></i>
                                    <i class="fa fa-check-square-o" ng-show="book.selected" aria-hidden="true"ng-click="healthCtrl.toggleSelectAll(book)"></i> -->
                                    
                                    <input type="checkbox" class=" gb-custom-checkbox glyphicon"   ng-model="book.selected" ng-click="healthCtrl.toggleSelectAll(book)">
                                </div>
                                <div class="gb-dashboard-name-box" title="{{healthCtrl.getNameOfDashboard(book)}}">
                                    <label ng-bind="healthCtrl.getNameOfDashboard(book, 20)"></label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        </div>
        <div class="row gb-dashboard-pagination" ng-hide="healthCtrl.info.page['pages'] <= 1">
            <span class="gb-pagination">
                <a class="icon-previous2 pagination-icon" title="First Page"
                    ng-click="healthCtrl.firstPage(); healthCtrl.info.userDashboardSortOrder = false"
                    ng-class="{'pagination-icon-disabled': (healthCtrl.info.page['current'] <= 0)}"></a>
                <a class="icon-arrow-left7 pagination-icon" title="Previous Page"
                    ng-click="healthCtrl.prevPage(); healthCtrl.info.userDashboardSortOrder = false"
                    ng-class="{'pagination-icon-disabled': (healthCtrl.info.page['current'] <= 0)}"></a>
                <pre class="gb-pagination-msg" ng-show="healthCtrl.info.page['current'] < healthCtrl.info.page['pages'] - 1">{{healthCtrl.info.page['current'] * healthCtrl.info.page['count'] + 1}} - {{healthCtrl.info.page['current'] * healthCtrl.info.page['count'] + healthCtrl.info.page['count']}} of {{healthCtrl.info.page['total']}}</pre>
                <pre class="gb-pagination-msg"
                        ng-show="healthCtrl.info.page['current'] == healthCtrl.info.page['pages'] - 1">{{healthCtrl.info.page['current'] * healthCtrl.info.page['count'] + 1}} - {{healthCtrl.info.page['total']}} of {{healthCtrl.info.page['total']}}</pre>
                <a class="icon-arrow-right7 pagination-icon" title="Next Page"
                    ng-click="healthCtrl.nextPage(); healthCtrl.info.userDashboardSortOrder = false"
                    ng-class="{'pagination-icon-disabled': (healthCtrl.info.page['current'] >= (healthCtrl.info.page['pages'] - 1))}"></a>
                <a class="icon-next2 pagination-icon" title="Last Page"
                    ng-click="healthCtrl.lastPage(); healthCtrl.info.userDashboardSortOrder = false"
                    ng-class="{'pagination-icon-disabled': (healthCtrl.info.page['current'] >= (healthCtrl.info.page['pages'] - 1))}"></a>
            </span>
        </div>
    </div>
    <!-- Loading message -->
    <div>
        <div ng-class="{'gb-hide': healthCtrl.loaded}" class="page-loader-white-gb" id="content-loader-health-dboard">
            <div class="page-loader-body">
                <div class="rect rect1"></div>
                <div class="rect rect2"></div>
                <div class="rect rect3"></div>
                <div class="rect rect4"></div>
                <div class="rect rect5"></div>
            </div>
        </div>
    </div>
</div>
